(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44099,e=>{"use strict";let t=(0,e.i(75254).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpenIcon",()=>t],44099)},17521,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t])},57778,e=>{"use strict";var t=e.i(17521);e.s(["Loader2Icon",()=>t.default])},30374,7649,29590,e=>{"use strict";var t=e.i(43476);e.s([],75704),e.i(75704);var a=e.i(59141),s=e.i(43444),n=e.i(39362),o=e.i(96918),i=e.i(38449),r=e.i(71645),l=e.i(30628),d=e.i(32156),c=e.i(13104),u=e.i(2346);function x(e){let{children:a,open:s,defaultOpen:n=!1,onOpenChange:o,onOpenChangeComplete:i,disablePointerDismissal:x=!1,modal:g=!0,actionsRef:m,handle:p,triggerId:h,defaultTriggerId:f=null}=e,j=(0,c.useDialogRootContext)(!0),v=!!j,y=(0,l.useRefWithInit)(()=>p?.store??new u.DialogStore({open:s??n,activeTriggerId:void 0!==h?h:f,modal:g,disablePointerDismissal:x,nested:v})).current;y.useControlledProp("open",s,n),y.useControlledProp("activeTriggerId",h,f),y.useSyncedValues({disablePointerDismissal:x,nested:v,modal:g}),y.useContextCallback("onOpenChange",o),y.useContextCallback("onOpenChangeComplete",i);let N=y.useState("payload");(0,d.useDialogRoot)({store:y,actionsRef:m,parentContext:j?.store.context,onOpenChange:o,triggerIdProp:h});let k=r.useMemo(()=>({store:y}),[y]);return(0,t.jsx)(c.DialogRootContext.Provider,{value:k,children:"function"==typeof a?a({payload:N}):a})}var g=e.i(55057),m=e.i(49899),p=e.i(90951),h=e.i(7840);e.s(["Backdrop",()=>a.DialogBackdrop,"Close",()=>s.DialogClose,"Description",()=>n.DialogDescription,"Handle",()=>h.DialogHandle,"Popup",()=>o.DialogPopup,"Portal",()=>i.DialogPortal,"Root",()=>x,"Title",()=>m.DialogTitle,"Trigger",()=>p.DialogTrigger,"Viewport",()=>g.DialogViewport,"createHandle",()=>h.createDialogHandle],87913);var f=e.i(87913),f=f,j=e.i(47163),v=e.i(67881),y=e.i(95926);function N({...e}){return(0,t.jsx)(f.Root,{"data-slot":"dialog",...e})}function k({...e}){return(0,t.jsx)(f.Trigger,{"data-slot":"dialog-trigger",...e})}function C({...e}){return(0,t.jsx)(f.Portal,{"data-slot":"dialog-portal",...e})}function b({...e}){return(0,t.jsx)(f.Close,{"data-slot":"dialog-close",...e})}function D({className:e,...a}){return(0,t.jsx)(f.Backdrop,{"data-slot":"dialog-overlay",className:(0,j.cn)("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/80 duration-100 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 isolate z-50",e),...a})}function w({className:e,children:a,showCloseButton:s=!0,...n}){return(0,t.jsxs)(C,{children:[(0,t.jsx)(D,{}),(0,t.jsxs)(f.Popup,{"data-slot":"dialog-content",className:(0,j.cn)("bg-background data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 ring-foreground/10 grid max-w-[calc(100%-2rem)] gap-4 rounded-xl p-4 text-xs/relaxed ring-1 duration-100 sm:max-w-sm fixed top-1/2 left-1/2 z-50 w-full -translate-x-1/2 -translate-y-1/2 outline-none",e),...n,children:[a,s&&(0,t.jsxs)(f.Close,{"data-slot":"dialog-close",render:(0,t.jsx)(v.Button,{variant:"ghost",className:"absolute top-2 right-2",size:"icon-sm"}),children:[(0,t.jsx)(y.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function I({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,j.cn)("gap-1 flex flex-col",e),...a})}function T({className:e,showCloseButton:a=!1,children:s,...n}){return(0,t.jsxs)("div",{"data-slot":"dialog-footer",className:(0,j.cn)("gap-2 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...n,children:[s,a&&(0,t.jsx)(f.Close,{render:(0,t.jsx)(v.Button,{variant:"outline"}),children:"Close"})]})}function z({className:e,...a}){return(0,t.jsx)(f.Title,{"data-slot":"dialog-title",className:(0,j.cn)("text-sm font-medium",e),...a})}function P({className:e,...a}){return(0,t.jsx)(f.Description,{"data-slot":"dialog-description",className:(0,j.cn)("text-muted-foreground *:[a]:hover:text-foreground text-xs/relaxed *:[a]:underline *:[a]:underline-offset-3",e),...a})}e.s(["Dialog",()=>N,"DialogClose",()=>b,"DialogContent",()=>w,"DialogDescription",()=>P,"DialogFooter",()=>T,"DialogHeader",()=>I,"DialogTitle",()=>z,"DialogTrigger",()=>k],30374);var B=e.i(75254);let O=(0,B.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircleIcon",()=>O],7649);let R=(0,B.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircleIcon",()=>R],29590)},93617,e=>{"use strict";var t=e.i(43476),a=e.i(18566),s=e.i(71645);e.i(50711);var n=e.i(82045),o=e.i(83394),i=e.i(70065),r=e.i(83930),l=e.i(44099),d=e.i(22016);function c(){let e=(0,a.useSearchParams)().get("agentId");return e?(0,t.jsx)(g,{agentId:e}):(0,t.jsx)(x,{})}function u(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:"Loading..."}),children:(0,t.jsx)(c,{})})}function x(){let e=(0,n.useQuery)(o.api.journals.getRecentJournals,{limit:50});return(0,t.jsx)("div",{className:"min-h-screen bg-background px-4 py-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-purple-500/10 rounded-md p-2",children:(0,t.jsx)(l.BookOpenIcon,{className:"text-purple-500 size-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Diaries"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Personal stories from the streets"})]})]}),(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"pt-6",children:[void 0===e&&(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}),e&&0===e.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(l.BookOpenIcon,{className:"size-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No diary entries yet"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Agents will document their journey as they explore the city"})]}),e&&e.length>0&&(0,t.jsx)(r.JournalFeed,{entries:e,showAgentName:!0})]})})]})})}function g({agentId:e}){let a=(0,n.useQuery)(o.api.journals.getAgentJournal,{agentId:e,limit:100});return(0,t.jsx)("div",{className:"min-h-screen bg-background px-4 py-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-purple-500/10 rounded-md p-2",children:(0,t.jsx)(l.BookOpenIcon,{className:"text-purple-500 size-5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h1",{className:"text-xl font-semibold",children:[a?.agent?.name??"Agent","'s Diary"]}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:[a?.entries.length??0," entries"]})]}),(0,t.jsx)(d.default,{href:"/journals",className:"text-sm text-muted-foreground hover:text-foreground",children:"View all diaries"})]}),(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"pt-6",children:[void 0===a&&(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}),a&&0===a.entries.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(l.BookOpenIcon,{className:"size-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No diary entries yet"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"This agent hasn't started writing"})]}),a&&a.entries.length>0&&(0,t.jsx)(r.JournalFeed,{entries:a.entries.map(e=>({...e,agentName:a.agent?.name??"Unknown",agentStatus:a.agent?.status??"unknown"})),showAgentName:!1})]})})]})})}e.s(["default",()=>u])}]);