(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27094,e=>{"use strict";var t=e.i(43476),n=e.i(71645);e.i(50711);var r=e.i(82045),a=e.i(83394);let i=["TICK","WORLD_STARTED","WORLD_PAUSED","WORLD_RESUMED","AGENT_REGISTERED","AGENT_ARRESTED","AGENT_RELEASED","AGENT_HOSPITALIZED","AGENT_RECOVERED","MOVE_STARTED","MOVE_COMPLETED","JOB_STARTED","JOB_COMPLETED","BUY","SELL","HEAL_STARTED","HEAL_COMPLETED","REST_STARTED","REST_COMPLETED","CRIME_ATTEMPTED","CRIME_SUCCESS","CRIME_FAILED","BUSINESS_STARTED","PRICES_SET","BUSINESS_STOCKED","ITEM_USED","MARKET_UPDATE","PRICE_CHANGE","MARKET_CRASH","POLICE_CRACKDOWN","JOB_DROUGHT","FRIEND_REQUEST_SENT","FRIEND_REQUEST_ACCEPTED","FRIEND_REQUEST_DECLINED","FRIEND_REMOVED","FRIENDSHIP_DECAYED","GANG_CREATED","GANG_INVITE_SENT","GANG_JOINED","GANG_INVITE_DECLINED","GANG_LEFT","GANG_MEMBER_KICKED","GANG_MEMBER_PROMOTED","GANG_MEMBER_DEMOTED","GANG_CONTRIBUTION","GANG_BETRAYED","GANG_DISBANDED","TERRITORY_CLAIMED","TERRITORY_INCOME","TERRITORY_CONTROL_DECAYED","TERRITORY_LOST","TERRITORY_CONTESTED","COOP_CRIME_INITIATED","COOP_CRIME_JOINED","COOP_CRIME_EXECUTED","COOP_CRIME_SUCCESS","COOP_CRIME_FAILED","COOP_CRIME_CANCELLED","PROPERTY_PURCHASED","PROPERTY_SOLD","PROPERTY_RENTED","RESIDENT_INVITED","RESIDENT_EVICTED","RENT_PAID","RENT_OVERDUE","CASH_GIFTED","ITEM_GIFTED","AGENT_ROBBED","ROB_ATTEMPT_FAILED","TAX_DUE","TAX_PAID","TAX_EVADED","ASSETS_SEIZED","MESSAGE_SENT","JAILBREAK_SUCCESS","JAILBREAK_FAILED","BRIBE_SUCCESS","BRIBE_FAILED","AGENT_ATTACKED","AGENT_KILLED","BOUNTY_PLACED","BOUNTY_CLAIMED","BOUNTY_EXPIRED","GAMBLE_WON","GAMBLE_LOST","DISGUISE_PURCHASED","DISGUISE_EXPIRED","VEHICLE_STOLEN","VEHICLE_STEAL_FAILED","CONTRACT_ACCEPTED","CONTRACT_COMPLETED","GOVERNMENT_TAKEDOWN","GOVERNMENT_RELEASE","GANG_REINSTATED"];var l=e.i(94179),s=e.i(67881),o=e.i(70065),u=e.i(23750),d=e.i(62870);e.s([],78307),e.i(78307);var c=e.i(94349),p=e.i(977),f=e.i(58509),m=e.i(76477),v=e.i(26292),g=e.i(62372),E=e.i(30628),S=e.i(13834),h=e.i(39663),x=e.i(231),R=e.i(33605),I=e.i(31292),b=e.i(89633),C=e.i(51368),y=e.i(4012),A=e.i(47857),T=e.i(5963),N=e.i(3404);e.i(47167);var O=e.i(67805);let D=n.createContext(void 0),_=n.createContext(void 0),M=n.createContext(void 0),P=n.createContext("");function k(){let e=n.useContext(D);if(!e)throw Error((0,O.default)(22));return e}function w(){let e=n.useContext(_);if(!e)throw Error((0,O.default)(23));return e}function j(){let e=n.useContext(M);if(!e)throw Error((0,O.default)(24));return e}function L(){return n.useContext(P)}var V=e.i(83921),G=e.i(78388),B=e.i(94476);let U={id:(0,V.createSelector)(e=>e.id),query:(0,V.createSelector)(e=>e.query),items:(0,V.createSelector)(e=>e.items),selectedValue:(0,V.createSelector)(e=>e.selectedValue),hasSelectionChips:(0,V.createSelector)(e=>{let t=e.selectedValue;return Array.isArray(t)&&t.length>0}),hasSelectedValue:(0,V.createSelector)(e=>{let{selectedValue:t,selectionMode:n}=e;return null!=t&&(!("multiple"===n&&Array.isArray(t))||t.length>0)}),hasNullItemLabel:(0,V.createSelector)((e,t)=>!!t&&(0,B.hasNullItemLabel)(e.items)),open:(0,V.createSelector)(e=>e.open),mounted:(0,V.createSelector)(e=>e.mounted),forceMounted:(0,V.createSelector)(e=>e.forceMounted),inline:(0,V.createSelector)(e=>e.inline),activeIndex:(0,V.createSelector)(e=>e.activeIndex),selectedIndex:(0,V.createSelector)(e=>e.selectedIndex),isActive:(0,V.createSelector)((e,t)=>e.activeIndex===t),isSelected:(0,V.createSelector)((e,t)=>{let n=e.isItemEqualToValue,r=e.selectedValue;return Array.isArray(r)?r.some(e=>(0,G.compareItemEquality)(e,t,n)):(0,G.compareItemEquality)(r,t,n)}),transitionStatus:(0,V.createSelector)(e=>e.transitionStatus),popupProps:(0,V.createSelector)(e=>e.popupProps),inputProps:(0,V.createSelector)(e=>e.inputProps),triggerProps:(0,V.createSelector)(e=>e.triggerProps),getItemProps:(0,V.createSelector)(e=>e.getItemProps),positionerElement:(0,V.createSelector)(e=>e.positionerElement),listElement:(0,V.createSelector)(e=>e.listElement),triggerElement:(0,V.createSelector)(e=>e.triggerElement),inputElement:(0,V.createSelector)(e=>e.inputElement),popupSide:(0,V.createSelector)(e=>e.popupSide),openMethod:(0,V.createSelector)(e=>e.openMethod),inputInsidePopup:(0,V.createSelector)(e=>e.inputInsidePopup),selectionMode:(0,V.createSelector)(e=>e.selectionMode),listRef:(0,V.createSelector)(e=>e.listRef),labelsRef:(0,V.createSelector)(e=>e.labelsRef),popupRef:(0,V.createSelector)(e=>e.popupRef),emptyRef:(0,V.createSelector)(e=>e.emptyRef),inputRef:(0,V.createSelector)(e=>e.inputRef),keyboardActiveRef:(0,V.createSelector)(e=>e.keyboardActiveRef),chipsContainerRef:(0,V.createSelector)(e=>e.chipsContainerRef),clearRef:(0,V.createSelector)(e=>e.clearRef),valuesRef:(0,V.createSelector)(e=>e.valuesRef),allValuesRef:(0,V.createSelector)(e=>e.allValuesRef),name:(0,V.createSelector)(e=>e.name),disabled:(0,V.createSelector)(e=>e.disabled),readOnly:(0,V.createSelector)(e=>e.readOnly),required:(0,V.createSelector)(e=>e.required),grid:(0,V.createSelector)(e=>e.grid),isGrouped:(0,V.createSelector)(e=>e.isGrouped),virtualized:(0,V.createSelector)(e=>e.virtualized),onOpenChangeComplete:(0,V.createSelector)(e=>e.onOpenChangeComplete),openOnInputClick:(0,V.createSelector)(e=>e.openOnInputClick),itemToStringLabel:(0,V.createSelector)(e=>e.itemToStringLabel),isItemEqualToValue:(0,V.createSelector)(e=>e.isItemEqualToValue),modal:(0,V.createSelector)(e=>e.modal),autoHighlight:(0,V.createSelector)(e=>e.autoHighlight),submitOnItemClick:(0,V.createSelector)(e=>e.submitOnItemClick)};var F=e.i(89269),H=e.i(8553),z=e.i(88599),K=e.i(84876),q=e.i(98128);function Y(e,t){return(n,r)=>{if(null==n)return!1;let a=(0,B.stringifyAsLabel)(n,t);return e.contains(a,r)}}function W(e,t,n){return(r,a)=>{if(null==r)return!1;if(!a)return!0;let i=(0,B.stringifyAsLabel)(r,t),l=null!=n?(0,B.stringifyAsLabel)(n,t):"";return!!(l&&e.contains(l,a))&&l.length===a.length||e.contains(i,a)}}let J=new Map;function X(e={}){let t={usage:"search",sensitivity:"base",ignorePunctuation:!0,...e},n=`${function e(t){return Array.isArray(t)?t.map(t=>e(t)).join(","):null==t?"":String(t)}(e.locale)}|${JSON.stringify(t)}`,r=J.get(n);if(r)return r;let a=new Intl.Collator(e.locale,t),i={contains(e,t,n){if(!t)return!0;let r=(0,B.stringifyAsLabel)(e,n);for(let e=0;e<=r.length-t.length;e+=1)if(0===a.compare(r.slice(e,e+t.length),t))return!0;return!1},startsWith(e,t,n){if(!t)return!0;let r=(0,B.stringifyAsLabel)(e,n);return 0===a.compare(r.slice(0,t.length),t)},endsWith(e,t,n){if(!t)return!0;let r=(0,B.stringifyAsLabel)(e,n),i=t.length;return r.length>=i&&0===a.compare(r.slice(r.length-i),t)}};return J.set(n,i),i}function Q(e={}){let{multiple:t=!1,value:r,...a}=e,i=X(a),l=n.useCallback((e,n,a)=>t?Y(i,a)(e,n):W(i,a,r)(e,n),[i,r,t]);return n.useMemo(()=>({contains:l,startsWith:i.startsWith,endsWith:i.endsWith}),[l,i])}var Z=e.i(88841),$=e.i(17514),ee=e.i(50091),et=e.i(19904);let en=Symbol("none"),er={value:en,index:-1};function ea(e){let r,a,i,{id:l,onOpenChangeComplete:s,defaultSelectedValue:o=null,selectedValue:u,onSelectedValueChange:d,defaultInputValue:O,inputValue:k,selectionMode:w="none",onItemHighlighted:j,name:L,disabled:V=!1,readOnly:J=!1,required:Q=!1,inputRef:ea,grid:ei=!1,items:el,filteredItems:es,filter:eo,openOnInputClick:eu=!0,autoHighlight:ed=!1,keepHighlight:ec=!1,highlightItemOnHover:ep=!0,loopFocus:ef=!0,itemToStringLabel:em,itemToStringValue:ev,isItemEqualToValue:eg=G.defaultItemEquality,virtualized:eE=!1,inline:eS=!1,fillInputOnItemPress:eh=!0,modal:ex=!1,limit:eR=-1,autoComplete:eI="list",locale:eb,submitOnItemClick:eC=!1}=e,{clearErrors:ey}=(0,K.useFormContext)(),{setDirty:eA,validityData:eT,shouldValidateOnChange:eN,setFilled:eO,name:eD,disabled:e_,setTouched:eM,setFocused:eP,validationMode:ek,validation:ew}=(0,H.useFieldRootContext)(),ej=(0,q.useLabelableId)({id:l}),eL=X({locale:eb}),[eV,eG]=n.useState(!1),[eB,eU]=n.useState(null),eF=n.useRef([]),eH=n.useRef([]),ez=n.useRef(null),eK=n.useRef(null),eq=n.useRef(null),eY=n.useRef(!0),eW=n.useRef(!1),eJ=n.useRef(null),eX=n.useRef(null),eQ=n.useRef(null),eZ=n.useRef(er),e$=n.useRef(null),e0=n.useRef([]),e1=n.useRef([]),e2=e_||V,e5=eD??L,e7="multiple"===w,e3="single"===w,e6=void 0!==k||void 0!==O,e9=void 0!==el,e8=void 0!==es;r="always"===ed?"always":!!ed&&"input-change";let[e4,te]=(0,c.useControlled)({controlled:u,default:e7?o??$.EMPTY_ARRAY:o,name:"Combobox",state:"selectedValue"}),tt=n.useMemo(()=>null===eo?()=>!0:void 0!==eo?eo:e3&&!eV?W(eL,em,e4):Y(eL,em),[eo,e3,e4,eV,eL,em]),tn=(0,E.useRefWithInit)(()=>e6?O??"":e3?(0,B.stringifyAsLabel)(e4,em):"").current,[tr,ta]=(0,c.useControlled)({controlled:k,default:tn,name:"Combobox",state:"inputValue"}),[ti,tl]=(0,c.useControlled)({controlled:e.open,default:e.defaultOpen,name:"Combobox",state:"open"}),ts=(0,B.isGroupedItems)(el),to=eB??(""===tr?"":String(tr).trim()),tu=e3?(0,B.stringifyAsLabel)(e4,em):"",td=e3&&!eV&&""!==to&&""!==tu&&tu.length===to.length&&eL.contains(tu,to),tc=td?"":to,tp=e9&&e8&&td,tf=n.useMemo(()=>el?ts?el.flatMap(e=>e.items):el:$.EMPTY_ARRAY,[el,ts]),tm=n.useMemo(()=>{if(es&&!tp)return es;if(!el)return $.EMPTY_ARRAY;if(ts){let e=[],t=0;for(let n of el){if(eR>-1&&t>=eR)break;let r=""===tc?n.items:n.items.filter(e=>tt(e,tc,em));if(0===r.length)continue;let a=eR>-1?eR-t:1/0,i=r.slice(0,a);if(i.length>0){let r={...n,items:i};e.push(r),t+=i.length}}return e}if(""===tc)return eR>-1?tf.slice(0,eR):tf;let e=[];for(let t of tf){if(eR>-1&&e.length>=eR)break;tt(t,tc,em)&&e.push(t)}return e},[es,tp,el,ts,tc,eR,tt,em,tf]),tv=n.useMemo(()=>ts?tm.flatMap(e=>e.items):tm,[tm,ts]),tg=(0,E.useRefWithInit)(()=>new S.Store({id:ej,selectedValue:e4,open:ti,filter:tt,query:to,items:el,selectionMode:w,listRef:eF,labelsRef:eH,popupRef:ez,emptyRef:eq,inputRef:eK,keyboardActiveRef:eY,chipsContainerRef:eJ,clearRef:eX,valuesRef:e0,allValuesRef:e1,selectionEventRef:eQ,name:e5,disabled:e2,readOnly:J,required:Q,grid:ei,isGrouped:ts,virtualized:eE,openOnInputClick:eu,itemToStringLabel:em,isItemEqualToValue:eg,modal:ex,autoHighlight:r,submitOnItemClick:eC,hasInputValue:e6,mounted:!1,forceMounted:!1,transitionStatus:"idle",inline:eS,activeIndex:null,selectedIndex:null,popupProps:{},inputProps:{},triggerProps:{},positionerElement:null,listElement:null,triggerElement:null,inputElement:null,popupSide:null,openMethod:null,inputInsidePopup:!0,onOpenChangeComplete:s||$.NOOP,setOpen:$.NOOP,setInputValue:$.NOOP,setSelectedValue:$.NOOP,setIndices:$.NOOP,onItemHighlighted:$.NOOP,handleSelection:$.NOOP,getItemProps:()=>$.EMPTY_OBJECT,forceMount:$.NOOP,requestSubmit:$.NOOP})).current,tE="none"===w?tr:e4,tS=n.useMemo(()=>"none"===w?tE:Array.isArray(e4)?e4.map(e=>(0,B.stringifyAsValue)(e,ev)):(0,B.stringifyAsValue)(e4,ev),[tE,ev,w,e4]),th=(0,m.useStableCallback)(j),tx=(0,m.useStableCallback)(s),tR=(0,h.useStore)(tg,U.activeIndex),tI=(0,h.useStore)(tg,U.selectedIndex),tb=(0,h.useStore)(tg,U.positionerElement),tC=(0,h.useStore)(tg,U.listElement),ty=(0,h.useStore)(tg,U.triggerElement),tA=(0,h.useStore)(tg,U.inputElement),tT=(0,h.useStore)(tg,U.inline),tN=(0,h.useStore)(tg,U.inputInsidePopup),tO=(0,x.useValueAsRef)(ty),{mounted:tD,setMounted:t_,transitionStatus:tM}=(0,Z.useTransitionStatus)(ti),{openMethod:tP,triggerProps:tk,reset:tw}=(0,ee.useOpenInteractionType)(ti);(0,z.useField)({id:ej,name:e5,commit:ew.commit,value:tE,controlRef:tN?tO:eK,getValue:()=>tS});let tj=(0,m.useStableCallback)(()=>{el?eH.current=tv.map(e=>(0,B.stringifyAsLabel)(e,em)):tg.set("forceMounted",!0)}),tL=n.useRef(e4);(0,p.useIsoLayoutEffect)(()=>{e4!==tL.current&&tj()},[tj,e4]);let tV=(0,m.useStableCallback)(e=>{tg.update(e);let t=e.type||"none";if(void 0!==e.activeIndex)if(null===e.activeIndex)eZ.current!==er&&(eZ.current=er,th(void 0,(0,T.createGenericEventDetails)(t,void 0,{index:-1})));else{let n=e0.current[e.activeIndex];eZ.current={value:n,index:e.activeIndex},th(n,(0,T.createGenericEventDetails)(t,void 0,{index:e.activeIndex}))}}),tG=(0,m.useStableCallback)((t,n)=>{if(eW.current=n.reason===N.REASONS.inputClear,e.onInputValueChange?.(t,n),!n.isCanceled){if(n.reason===N.REASONS.inputChange){let e=""!==t.trim();e&&eG(!0),e$.current={hasQuery:e},e&&r&&null==tg.state.activeIndex&&tg.set("activeIndex",0)}ta(t)}}),tB=(0,m.useStableCallback)((t,n)=>{if(ti!==t&&("escape-key"===n.reason&&e9&&0===tv.length&&!tg.state.emptyRef.current&&n.allowPropagation(),e.onOpenChange?.(t,n),!n.isCanceled&&(!t&&eV&&(e3?(eU(to),""===to&&eG(!1)):e7&&(tT||tN?tV({activeIndex:null}):eU(to),tG("",(0,T.createChangeEventDetails)(N.REASONS.inputClear,n.event)))),tl(t),!t&&tN&&(n.reason===N.REASONS.focusOut||n.reason===N.REASONS.outsidePress))&&(eM(!0),eP(!1),"onBlur"===ek))){let e="none"===w?tr:e4;ew.commit(e)}}),tU=(0,m.useStableCallback)((e,t)=>{d?.(e,t),t.isCanceled||(te(e),("none"===w&&ez.current&&eh||e3&&!tg.state.inputInsidePopup)&&tG((0,B.stringifyAsLabel)(e,em),(0,T.createChangeEventDetails)(t.reason,t.event)),e3&&null!=e&&t.reason!==N.REASONS.inputChange&&eV&&eU(to))}),tF=(0,m.useStableCallback)((e,t)=>{let n=t;if(void 0===n){if(null===tR)return;n=e0.current[tR]}let r=(0,A.getTarget)(e),a=eQ.current??e;eQ.current=null;let i=(0,T.createChangeEventDetails)(N.REASONS.itemPress,a),l=r?.closest("a")?.getAttribute("href");if(l){l.startsWith("#")&&tB(!1,i);return}if(e7){let e=Array.isArray(e4)?e4:[];if(tU((0,G.itemIncludes)(e,n,tg.state.isItemEqualToValue)?(0,G.removeItem)(e,n,tg.state.isItemEqualToValue):[...e,n],i),!(eK.current&&""!==eK.current.value.trim()))return;tg.state.inputInsidePopup?tG("",(0,T.createChangeEventDetails)(N.REASONS.inputClear,i.event)):tB(!1,i)}else tU(n,i),tB(!1,i)}),tH=(0,m.useStableCallback)(()=>{if(!tg.state.submitOnItemClick)return;let e=tg.state.inputElement?.form;e&&"function"==typeof e.requestSubmit&&e.requestSubmit()}),tz=(0,m.useStableCallback)(()=>{if(t_(!1),tx?.(!1),eG(!1),tw(),eU(null),"none"===w?tV({activeIndex:null,selectedIndex:null}):tV({activeIndex:null}),e7&&eK.current&&""!==eK.current.value&&!eW.current&&tG("",(0,T.createChangeEventDetails)(N.REASONS.inputClear)),e3)if(tg.state.inputInsidePopup)eK.current&&""!==eK.current.value&&tG("",(0,T.createChangeEventDetails)(N.REASONS.inputClear));else{let e=(0,B.stringifyAsLabel)(e4,em);if(eK.current&&eK.current.value!==e){let t=""===e?N.REASONS.inputClear:N.REASONS.none;tG(e,(0,T.createChangeEventDetails)(t))}}}),tK=n.useMemo(()=>tT&&tb?{current:tb.closest('[role="dialog"]')}:ez,[tT,tb]);(0,F.useOpenChangeComplete)({enabled:!e.actionsRef,open:ti,ref:tK,onComplete(){ti||tz()}}),n.useImperativeHandle(e.actionsRef,()=>({unmount:tz}),[tz]),(0,p.useIsoLayoutEffect)(function(){if(ti||"none"===w)return;let e=el?tf:e1.current;if(e7){let t=Array.isArray(e4)?e4:[],n=t[t.length-1],r=(0,G.findItemIndex)(e,n,eg);tV({selectedIndex:-1===r?null:r})}else{let t=(0,G.findItemIndex)(e,e4,eg);tV({selectedIndex:-1===t?null:t})}},[ti,e4,el,w,tf,e7,eg,tV]),(0,p.useIsoLayoutEffect)(()=>{el&&(e0.current=tv,eF.current.length=tv.length)},[el,tv]),(0,p.useIsoLayoutEffect)(()=>{let e=e$.current;if(e&&(e.hasQuery?r&&tg.set("activeIndex",0):"always"===r&&tg.set("activeIndex",0),e$.current=null),!ti&&!tT)return;let t=e9||e8?tv:e0.current,n=tg.state.activeIndex;if(null==n)return"always"===r&&t.length>0?void tg.set("activeIndex",0):void(eZ.current!==er&&(eZ.current=er,tg.state.onItemHighlighted(void 0,(0,T.createGenericEventDetails)(N.REASONS.none,void 0,{index:-1}))));if(n>=t.length){eZ.current!==er&&(eZ.current=er,tg.state.onItemHighlighted(void 0,(0,T.createGenericEventDetails)(N.REASONS.none,void 0,{index:-1}))),tg.set("activeIndex",null);return}let a=t[n],i=eZ.current.value,l=i!==en&&tg.state.isItemEqualToValue(a,i);eZ.current.index===n&&l||(eZ.current={value:a,index:n},tg.state.onItemHighlighted(a,(0,T.createGenericEventDetails)(N.REASONS.none,void 0,{index:n})))},[tR,r,e8,e9,tv,tT,ti,tg]),(0,p.useIsoLayoutEffect)(()=>{if(!el||"none"===w)return;if(e7){let e=Array.isArray(e4)?e4:$.EMPTY_ARRAY,t=e.filter(e=>(0,G.itemIncludes)(tf,e,tg.state.isItemEqualToValue));t.length!==e.length&&tU(t,(0,T.createChangeEventDetails)(N.REASONS.none));return}if(null==e4||(0,G.itemIncludes)(tf,e4,tg.state.isItemEqualToValue))return;let e=null;null!=o&&(0,G.itemIncludes)(tf,o,tg.state.isItemEqualToValue)&&(e=o),tU(e,(0,T.createChangeEventDetails)(N.REASONS.none))},[el,tf,e7,w,e4,o,tg,tU]),(0,p.useIsoLayoutEffect)(()=>{"none"===w?eO(""!==String(tr)):eO(e7?Array.isArray(e4)&&e4.length>0:null!=e4)},[eO,w,tr,e4,e7]),n.useEffect(()=>{e9&&r&&0===tv.length&&tV({activeIndex:null})},[e9,r,tv.length,tV]),(0,et.useValueChanged)(to,()=>{ti&&""!==to&&to!==String(tn)&&eG(!0)}),(0,et.useValueChanged)(e4,()=>{if("none"!==w&&(ey(e5),eA(e4!==eT.initialValue),eN()?ew.commit(e4):ew.commit(e4,!0),e7&&null!==tg.state.selectedIndex&&(!Array.isArray(e4)||0===e4.length)&&tV({activeIndex:null,selectedIndex:null}),e3&&!e6&&!tN)){let e=(0,B.stringifyAsLabel)(e4,em);tr!==e&&tG(e,(0,T.createChangeEventDetails)(N.REASONS.none))}}),(0,et.useValueChanged)(tr,()=>{"none"===w&&(ey(e5),eA(tr!==eT.initialValue),eN()?ew.commit(tr):ew.commit(tr,!0))}),(0,et.useValueChanged)(el,()=>{if(!e3||e6||tN||eV)return;let e=(0,B.stringifyAsLabel)(e4,em);tr!==e&&tG(e,(0,T.createChangeEventDetails)(N.REASONS.none))});let tq=(0,I.useFloatingRootContext)({open:!!tT||ti,onOpenChange:tB,elements:{reference:tN?ty:tA,floating:tb}});tT||(a=ei?"grid":"listbox",i=ti?"true":"false");let tY=n.useMemo(()=>{let e=tA?.tagName==="INPUT",t=e||ti,n=e?{autoComplete:"off",spellCheck:"false",autoCorrect:"off",autoCapitalize:"none"}:{};return t&&(n.role="combobox",n["aria-expanded"]=i,n["aria-haspopup"]=a,n["aria-controls"]=ti?tC?.id:void 0,n["aria-autocomplete"]=eI),{reference:n,floating:{role:"presentation"}}},[tA,ti,i,a,tC?.id,eI]),tW=(0,y.useClick)(tq,{enabled:!J&&!e2&&eu,event:"mousedown-only",toggle:!1,touchOpenDelay:50*!tN}),tJ=(0,R.useDismiss)(tq,{enabled:!J&&!e2&&!tT,outsidePressEvent:{mouse:"sloppy",touch:"intentional"},bubbles:!!tT||void 0,outsidePress(e){let t=(0,A.getTarget)(e);return!(0,A.contains)(ty,t)&&!(0,A.contains)(eX.current,t)&&!(0,A.contains)(eJ.current,t)}}),tX=(0,C.useListNavigation)(tq,{enabled:!J&&!e2,id:ej,listRef:eF,activeIndex:tR,selectedIndex:tI,virtual:!0,loopFocus:ef,allowEscape:ef&&!r,focusItemOnOpen:!eV&&("none"!==w||!!r)&&"auto",focusItemOnHover:ep,resetOnPointerLeave:!ec,cols:ei?2:1,orientation:ei?"horizontal":void 0,disabledIndices:$.EMPTY_ARRAY,onNavigate(e,t){(t||ti)&&"ending"!==tM&&(t?tV({activeIndex:e,type:eY.current?"keyboard":"pointer"}):tV({activeIndex:e}))}}),{getReferenceProps:tQ,getFloatingProps:tZ,getItemProps:t$}=(0,b.useInteractions)([tY,tW,tJ,tX]);(0,f.useOnFirstRender)(()=>{tg.update({inline:eS,popupProps:tZ(),inputProps:tQ(),triggerProps:tk,getItemProps:t$,setOpen:tB,setInputValue:tG,setSelectedValue:tU,setIndices:tV,onItemHighlighted:th,handleSelection:tF,forceMount:tj,requestSubmit:tH})}),(0,p.useIsoLayoutEffect)(()=>{tg.update({id:ej,selectedValue:e4,open:ti,mounted:tD,transitionStatus:tM,items:el,inline:eS,popupProps:tZ(),inputProps:tQ(),triggerProps:tk,openMethod:tP,getItemProps:t$,selectionMode:w,name:e5,disabled:e2,readOnly:J,required:Q,grid:ei,isGrouped:ts,virtualized:eE,onOpenChangeComplete:tx,openOnInputClick:eu,itemToStringLabel:em,modal:ex,autoHighlight:r,isItemEqualToValue:eg,submitOnItemClick:eC,hasInputValue:e6,requestSubmit:tH})},[tg,ej,e4,ti,tD,tM,el,tZ,tQ,t$,tP,tk,w,e5,e2,J,Q,ew,ei,ts,eE,tx,eu,em,ex,eg,eC,e6,eS,tH,r]);let t0=(0,v.useMergedRefs)(ea,ew.inputRef),t1=n.useMemo(()=>({query:to,filteredItems:tm,flatFilteredItems:tv}),[to,tm,tv]),t2=n.useMemo(()=>Array.isArray(tE)?"":(0,B.stringifyAsValue)(tE,ev),[tE,ev]),t5=e7&&Array.isArray(e4)&&e4.length>0,t7=n.useMemo(()=>e7&&Array.isArray(e4)&&e5?e4.map(e=>{let n=(0,B.stringifyAsValue)(e,ev);return(0,t.jsx)("input",{type:"hidden",name:e5,value:n},n)}):null,[e7,e4,e5,ev]),t3=(0,t.jsxs)(n.Fragment,{children:[e.children,(0,t.jsx)("input",{...ew.getInputValidationProps({onFocus(){tN?ty?.focus():(eK.current||ty)?.focus()},onChange(e){if(e.nativeEvent.defaultPrevented)return;let t=e.target.value,n=(0,T.createChangeEventDetails)(N.REASONS.inputChange,e.nativeEvent);function r(){if(e7)return;if("none"===w){eA(t!==eT.initialValue),tG(t,n),eN()&&ew.commit(t);return}let e=e0.current.find(e=>(0,B.stringifyAsValue)(e,ev).toLowerCase()===t.toLowerCase());null!=e&&(eA(e!==eT.initialValue),tU?.(e,n),eN()&&ew.commit(e))}el?r():(tj(),queueMicrotask(r))}}),name:e7||"none"===w?void 0:e5,disabled:e2,required:Q&&!t5,readOnly:J,value:t2,ref:t0,style:e5?g.visuallyHiddenInput:g.visuallyHidden,tabIndex:-1,"aria-hidden":!0}),t7]});return(0,t.jsx)(D.Provider,{value:tg,children:(0,t.jsx)(_.Provider,{value:tq,children:(0,t.jsx)(M.Provider,{value:t1,children:(0,t.jsx)(P.Provider,{value:tr,children:t3})})})})}function ei(e){let{multiple:n=!1,defaultValue:r,value:a,onValueChange:i,...l}=e;return(0,t.jsx)(ea,{...l,selectionMode:n?"multiple":"single",selectedValue:a,defaultSelectedValue:r,onSelectedValueChange:i})}function el(e){let{children:r,placeholder:a}=e,i=k(),l=(0,h.useStore)(i,U.itemToStringLabel),s=(0,h.useStore)(i,U.selectedValue),o=(0,h.useStore)(i,U.items),u="multiple"===(0,h.useStore)(i,U.selectionMode),d=(0,h.useStore)(i,U.hasSelectedValue),c=(0,h.useStore)(i,U.hasNullItemLabel,!d&&null!=a&&null==r),p=null;return p="function"==typeof r?r(s):null!=r?r:d||null==a||c?u&&Array.isArray(s)?(0,B.resolveMultipleLabels)(s,o,l):(0,B.resolveSelectedLabel)(s,o,l):a,(0,t.jsx)(n.Fragment,{children:p})}var es=e.i(57666),eo=e.i(89879),eu=e.i(27601),ed=e.i(86389),ec=e.i(4692);let ep={...ed.pressableTriggerOpenStateMapping,...ec.fieldValidityMapping,popupSide:e=>e?{"data-popup-side":e}:null,listEmpty:e=>e?{"data-list-empty":""}:null};var ef=e.i(51849);let em=n.createContext(void 0);function ev(){return n.useContext(em)}var eg=e.i(82033);let eE=n.createContext(void 0);function eS(e){let t=n.useContext(eE);if(void 0===t&&!e)throw Error((0,O.default)(21));return t}var eh=e.i(79144);let ex=n.forwardRef(function(e,t){let{render:r,className:a,disabled:i=!1,id:l,...s}=e,{state:o,disabled:u,setTouched:d,setFocused:c,validationMode:p,validation:f}=(0,H.useFieldRootContext)(),{labelId:v}=(0,ef.useLabelableContext)(),g=ev(),E=!!eS(!0),S=k(),{filteredItems:x}=j(),R=L(),I=(0,h.useStore)(S,U.required),b=(0,eh.useDirection)(),C=(0,h.useStore)(S,U.disabled),y=(0,h.useStore)(S,U.readOnly),A=(0,h.useStore)(S,U.name),O=(0,h.useStore)(S,U.selectionMode),D=(0,h.useStore)(S,U.autoHighlight),_=(0,h.useStore)(S,U.inputProps),M=(0,h.useStore)(S,U.triggerProps),P=(0,h.useStore)(S,U.open),w=(0,h.useStore)(S,U.mounted),V=(0,h.useStore)(S,U.selectedValue),G=(0,h.useStore)(S,U.popupSide),B=(0,h.useStore)(S,U.positionerElement),F=(0,h.useStore)(S,U.id),z=(0,h.useStore)(S,U.inline),K=!!D,q=w&&B?G:null,Y=u||C||i,W=0===x.length,J=E||z,X=(0,eo.useBaseUiId)(l??(J?void 0:F)),[Q,Z]=n.useState(null),$=n.useRef(!1),ee=(0,m.useStableCallback)(e=>{let t=E||S.state.inline;t&&!S.state.hasInputValue&&S.state.setInputValue("",(0,T.createChangeEventDetails)(N.REASONS.none)),S.update({inputElement:e,inputInsidePopup:t})}),et=n.useMemo(()=>({...o,open:P,disabled:Y,readOnly:y,popupSide:q,listEmpty:W}),[o,P,Y,y,q,W]);return(0,eu.useRenderElement)("input",e,{state:et,ref:[t,S.state.inputRef,ee],props:[_,M,{type:"text",value:e.value??Q??R,"aria-readonly":y||void 0,"aria-required":I||void 0,"aria-labelledby":v,disabled:Y,readOnly:y,required:"none"===O?I:void 0,..."none"===O&&A&&{name:A},id:X,onFocus(){c(!0)},onBlur(){if(d(!0),c(!1),"onBlur"===p){let e="none"===O?R:V;f.commit(e)}},onCompositionStart(e){es.isAndroid||($.current=!0,Z(e.currentTarget.value))},onCompositionEnd(e){$.current=!1;let t=e.currentTarget.value;Z(null),S.state.setInputValue(t,(0,T.createChangeEventDetails)(N.REASONS.inputChange,e.nativeEvent))},onChange(e){if($.current){let t=e.currentTarget.value;Z(t),""!==t||S.state.openOnInputClick||S.state.inputInsidePopup||S.state.setOpen(!1,(0,T.createChangeEventDetails)(N.REASONS.inputClear,e.nativeEvent));let n=t.trim();y||Y||""===n||(S.state.setOpen(!0,(0,T.createChangeEventDetails)(N.REASONS.inputChange,e.nativeEvent)),K||S.state.setIndices({activeIndex:null,selectedIndex:null,type:S.state.keyboardActiveRef.current?"keyboard":"pointer"})),P&&null!==S.state.activeIndex&&!(K&&""!==n)&&S.state.setIndices({activeIndex:null,selectedIndex:null,type:S.state.keyboardActiveRef.current?"keyboard":"pointer"});return}S.state.setInputValue(e.currentTarget.value,(0,T.createChangeEventDetails)(N.REASONS.inputChange,e.nativeEvent));let t=""===e.currentTarget.value,n=(0,T.createChangeEventDetails)(N.REASONS.inputClear,e.nativeEvent);t&&!S.state.inputInsidePopup&&("single"===O&&S.state.setSelectedValue(null,n),S.state.openOnInputClick||S.state.setOpen(!1,n));let r=e.currentTarget.value.trim();y||Y||""===r||(S.state.setOpen(!0,(0,T.createChangeEventDetails)(N.REASONS.inputChange,e.nativeEvent)),K||S.state.setIndices({activeIndex:null,selectedIndex:null,type:S.state.keyboardActiveRef.current?"keyboard":"pointer"})),P&&null!==S.state.activeIndex&&!K&&S.state.setIndices({activeIndex:null,selectedIndex:null,type:S.state.keyboardActiveRef.current?"keyboard":"pointer"})},onKeyDown(e){if(Y||y||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;S.state.keyboardActiveRef.current=!0;let t=e.currentTarget,n=t.scrollWidth-t.clientWidth,r="rtl"===b;if("Home"===e.key){(0,eg.stopEvent)(e);let n=es.isFirefox&&r?t.value.length:0;t.setSelectionRange(n,n),t.scrollLeft=0;return}if("End"===e.key){(0,eg.stopEvent)(e);let a=es.isFirefox&&r?0:t.value.length;t.setSelectionRange(a,a),t.scrollLeft=r?-n:n;return}if(!w&&"Escape"===e.key){let t="multiple"===O&&Array.isArray(V)?0===V.length:null===V,n=(0,T.createChangeEventDetails)(N.REASONS.escapeKey,e.nativeEvent);S.state.setInputValue("",n),S.state.setSelectedValue("multiple"===O?[]:null,n),t||S.state.inline||n.isPropagationAllowed||e.stopPropagation();return}if(g&&"Backspace"===e.key&&""===t.value&&void 0===g.highlightedChipIndex&&Array.isArray(V)&&V.length>0){let t=V.slice(0,-1);S.state.setIndices({activeIndex:null,selectedIndex:null,type:S.state.keyboardActiveRef.current?"keyboard":"pointer"}),S.state.setSelectedValue(t,(0,T.createChangeEventDetails)(N.REASONS.none,e.nativeEvent));return}let a=function(e){let t;if(!g)return;let{highlightedChipIndex:n}=g;if(void 0!==n){if("ArrowLeft"===e.key)e.preventDefault(),t=n>0?n-1:void 0;else if("ArrowRight"===e.key)e.preventDefault(),t=n<V.length-1?n+1:void 0;else if("Backspace"===e.key||"Delete"===e.key){e.preventDefault();let r=n>=V.length-1?V.length-2:n;t=r>=0?r:void 0,S.state.setIndices({activeIndex:null,selectedIndex:null,type:"keyboard"})}return t}return"ArrowLeft"===e.key&&(e.currentTarget.selectionStart??0)===0&&V.length>0?(e.preventDefault(),t=Math.max(V.length-1,0)):"Backspace"===e.key&&""===e.currentTarget.value&&V.length>0&&(S.state.setIndices({activeIndex:null,selectedIndex:null,type:"keyboard"}),e.preventDefault()),t}(e);if(g?.setHighlightedChipIndex(a),void 0!==a?g?.chipsRef.current[a]?.focus():S.state.inputRef.current?.focus(),229!==e.which&&"Enter"===e.key&&P){let t=S.state.activeIndex,n=e.nativeEvent;if(null===t)return void S.state.setOpen(!1,(0,T.createChangeEventDetails)(N.REASONS.none,n));(0,eg.stopEvent)(e);let r=S.state.listRef.current[t];r&&(S.state.selectionEventRef.current=n,r.click(),S.state.selectionEventRef.current=null)}},onPointerMove(){S.state.keyboardActiveRef.current=!1},onPointerDown(){S.state.keyboardActiveRef.current=!1}},f?f.getValidationProps(s):s],stateAttributesMapping:ep})});var eR=e.i(66745),eI=e.i(90219),eb=e.i(91730),eC=e.i(72257),ey=e.i(69302);let eA=n.forwardRef(function(e,t){let{render:r,className:a,nativeButton:i=!0,disabled:l=!1,id:s,...o}=e,{state:u,disabled:d,setTouched:c,setFocused:p,validationMode:f,validation:v}=(0,H.useFieldRootContext)(),{labelId:g}=(0,ef.useLabelableContext)(),E=k(),{filteredItems:S}=j(),x=(0,h.useStore)(E,U.selectionMode),R=(0,h.useStore)(E,U.disabled),I=(0,h.useStore)(E,U.readOnly),b=(0,h.useStore)(E,U.required),C=(0,h.useStore)(E,U.mounted),O=(0,h.useStore)(E,U.popupSide),D=(0,h.useStore)(E,U.positionerElement),_=(0,h.useStore)(E,U.listElement),M=(0,h.useStore)(E,U.triggerProps),P=(0,h.useStore)(E,U.triggerElement),V=(0,h.useStore)(E,U.inputInsidePopup),G=(0,h.useStore)(E,U.id),B=(0,h.useStore)(E,U.open),F=(0,h.useStore)(E,U.selectedValue),z=(0,h.useStore)(E,U.activeIndex),K=(0,h.useStore)(E,U.selectedIndex),Y=(0,h.useStore)(E,U.hasSelectedValue),W=w(),J=L(),X=(0,eR.useTimeout)(),Q=d||R||l,Z=0===S.length,$=C&&D?O:null;(0,q.useLabelableId)({id:V?s:void 0});let ee=V?s??G:s,et=n.useRef("");function en(e){et.current=e.pointerType}let er=W.select("domReferenceElement");n.useEffect(()=>{V&&P&&P!==er&&W.set("domReferenceElement",P)},[P,er,W,V]);let{reference:ea}=(0,ey.useTypeahead)(W,{enabled:!B&&!I&&!R&&"single"===x,listRef:E.state.labelsRef,activeIndex:z,selectedIndex:K,onMatch(e){let t=E.state.valuesRef.current[e];void 0!==t&&E.state.setSelectedValue(t,(0,T.createChangeEventDetails)("none"))}}),{reference:ei}=(0,y.useClick)(W,{enabled:!I&&!R,event:"mousedown"}),{buttonRef:el,getButtonProps:es}=(0,eb.useButton)({native:i,disabled:Q}),eo=n.useMemo(()=>({...u,open:B,disabled:Q,popupSide:$,listEmpty:Z,placeholder:!Y}),[u,B,Q,$,Z,Y]),ed=(0,m.useStableCallback)(e=>{E.set("triggerElement",e)});return(0,eu.useRenderElement)("button",e,{ref:[t,el,ed],state:eo,props:[M,ei,ea,{id:ee,tabIndex:V?0:-1,role:V?"combobox":void 0,"aria-expanded":B?"true":"false","aria-haspopup":V?"dialog":"listbox","aria-controls":B?_?.id:void 0,"aria-readonly":I||void 0,"aria-required":V&&b||void 0,"aria-labelledby":g,onPointerDown:en,onPointerEnter:en,onFocus(){p(!0),Q||I||X.start(0,E.state.forceMount)},onBlur(e){(0,A.contains)(D,e.relatedTarget)||(c(!0),p(!1),"onBlur"===f&&v.commit("none"===x?J:F))},onMouseDown(e){if(Q||I||(V||W.set("domReferenceElement",e.currentTarget),E.state.forceMount(),"touch"!==et.current&&(E.state.inputRef.current?.focus(),V||e.preventDefault()),B))return;let t=(0,eI.ownerDocument)(e.currentTarget);V&&t.addEventListener("mouseup",function(e){if(!P)return;let t=(0,A.getTarget)(e),n=E.state.positionerElement,r=E.state.listElement;if((0,A.contains)(P,t)||(0,A.contains)(n,t)||(0,A.contains)(r,t)||t===P)return;let a=(0,eC.getPseudoElementBounds)(P),i=e.clientX>=a.left-2&&e.clientX<=a.right+2,l=e.clientY>=a.top-2&&e.clientY<=a.bottom+2;i&&l||E.state.setOpen(!1,(0,T.createChangeEventDetails)("cancel-open",e))},{once:!0})},onKeyDown(e){Q||I||("ArrowDown"===e.key||"ArrowUp"===e.key)&&((0,eg.stopEvent)(e),E.state.setOpen(!0,(0,T.createChangeEventDetails)(N.REASONS.listNavigation,e.nativeEvent)),E.state.inputRef.current?.focus())}},v?v.getValidationProps(o):o,es],stateAttributesMapping:ep})}),eT=n.createContext(null);function eN(e){let{children:r,items:a}=e,i=n.useMemo(()=>({items:a}),[a]);return(0,t.jsx)(eT.Provider,{value:i,children:r})}function eO(e){let{children:r}=e,{filteredItems:a}=j(),i=n.useContext(eT),l=i?i.items:a;return l?(0,t.jsx)(n.Fragment,{children:l.map(r)}):null}var eD=e.i(12856);let e_=n.forwardRef(function(e,r){var a;let{render:i,className:l,children:s,...o}=e,u=k(),d=w(),c=!!eS(!0),{filteredItems:p}=j(),f=(0,h.useStore)(u,U.items),v=(0,h.useStore)(u,U.labelsRef),g=(0,h.useStore)(u,U.listRef),E=(0,h.useStore)(u,U.selectionMode),S=(0,h.useStore)(u,U.grid),x=(0,h.useStore)(u,U.popupProps),R=(0,h.useStore)(u,U.disabled),I=(0,h.useStore)(u,U.readOnly),b=(0,h.useStore)(u,U.virtualized),C=0===p.length,y=(0,m.useStableCallback)(e=>{u.set("positionerElement",e)}),A=(0,m.useStableCallback)(e=>{u.set("listElement",e)}),T=n.useMemo(()=>"function"==typeof s?a||(a=(0,t.jsx)(eO,{children:s})):s,[s]),N=n.useMemo(()=>({empty:C}),[C]),O=d.useState("floatingId"),D=(0,eu.useRenderElement)("div",e,{state:N,ref:[r,A,c?null:y],props:[x,{children:T,tabIndex:-1,id:O,role:S?"grid":"listbox","aria-multiselectable":"multiple"===E?"true":void 0,onKeyDown(e){if(!R&&!I&&"Enter"===e.key){let t=u.state.activeIndex;if(null==t)return;(0,eg.stopEvent)(e);let n=e.nativeEvent,r=u.state.listRef.current[t];r&&(u.state.selectionEventRef.current=n,r.click(),u.state.selectionEventRef.current=null)}},onKeyDownCapture(){u.state.keyboardActiveRef.current=!0},onPointerMoveCapture(){u.state.keyboardActiveRef.current=!1}},o]});return b?D:(0,t.jsx)(eD.CompositeList,{elementsRef:g,labelsRef:f?void 0:v,children:D})}),eM=n.forwardRef(function(e,t){let{render:n,className:r,...a}=e;return(0,eu.useRenderElement)("div",e,{ref:t,props:[{role:"status","aria-live":"polite","aria-atomic":!0},a]})});var eP=e.i(37692);let ek=n.createContext(void 0),ew=n.forwardRef(function(e,n){let{keepMounted:r=!1,...a}=e,i=k(),l=(0,h.useStore)(i,U.mounted),s=(0,h.useStore)(i,U.forceMounted);return l||r||s?(0,t.jsx)(ek.Provider,{value:r,children:(0,t.jsx)(eP.FloatingPortal,{ref:n,...a})}):null});var ej=e.i(84759);let eL={...ed.popupStateMapping,...ej.transitionStatusMapping},eV=n.forwardRef(function(e,t){let{className:r,render:a,...i}=e,l=k(),s=(0,h.useStore)(l,U.open),o=(0,h.useStore)(l,U.mounted),u=(0,h.useStore)(l,U.transitionStatus),d=n.useMemo(()=>({open:s,transitionStatus:u}),[s,u]);return(0,eu.useRenderElement)("div",e,{state:d,ref:t,stateAttributesMapping:eL,props:[{role:"presentation",hidden:!o,style:{userSelect:"none",WebkitUserSelect:"none"}},i]})});var eG=e.i(58130),eB=e.i(66196),eU=e.i(56590),eF=e.i(7335),eH=e.i(36893);let ez=n.forwardRef(function(e,r){let{render:a,className:i,anchor:l,positionMethod:s="absolute",side:o="bottom",align:u="center",sideOffset:d=0,alignOffset:c=0,collisionBoundary:f="clipping-ancestors",collisionPadding:v=5,arrowPadding:g=5,sticky:E=!1,disableAnchorTracking:S=!1,collisionAvoidance:x=eF.DROPDOWN_COLLISION_AVOIDANCE,...R}=e,I=k(),{filteredItems:b}=j(),C=w(),y=function(){let e=n.useContext(ek);if(void 0===e)throw Error((0,O.default)(20));return e}(),A=(0,h.useStore)(I,U.modal),T=(0,h.useStore)(I,U.open),N=(0,h.useStore)(I,U.mounted),D=(0,h.useStore)(I,U.openMethod),_=(0,h.useStore)(I,U.triggerElement),M=(0,h.useStore)(I,U.inputElement),P=(0,h.useStore)(I,U.inputInsidePopup),L=0===b.length,V=l??(P?_:M),G=(0,eU.useAnchorPositioning)({anchor:V,floatingRootContext:C,positionMethod:s,mounted:N,side:o,sideOffset:d,align:u,alignOffset:c,arrowPadding:g,collisionBoundary:f,collisionPadding:v,sticky:E,disableAnchorTracking:S,keepMounted:y,collisionAvoidance:x,lazyFlip:!0});(0,eB.useScrollLock)(T&&A&&"touch"!==D,_);let B=n.useMemo(()=>{let e={...G.positionerStyles};return T||(e.pointerEvents="none"),{role:"presentation",hidden:!N,style:e}},[T,N,G.positionerStyles]),F=n.useMemo(()=>({open:T,side:G.side,align:G.align,anchorHidden:G.anchorHidden,empty:L}),[T,G.side,G.align,G.anchorHidden,L]);(0,p.useIsoLayoutEffect)(()=>{I.set("popupSide",G.side)},[I,G.side]);let H=n.useMemo(()=>({side:G.side,align:G.align,arrowRef:G.arrowRef,arrowUncentered:G.arrowUncentered,arrowStyles:G.arrowStyles,anchorHidden:G.anchorHidden,isPositioned:G.isPositioned}),[G.side,G.align,G.arrowRef,G.arrowUncentered,G.arrowStyles,G.anchorHidden,G.isPositioned]),z=(0,m.useStableCallback)(e=>{I.set("positionerElement",e)}),K=(0,eu.useRenderElement)("div",e,{state:F,ref:[r,z],props:[B,R],stateAttributesMapping:ed.popupStateMapping});return(0,t.jsxs)(eE.Provider,{value:H,children:[N&&A&&(0,t.jsx)(eH.InternalBackdrop,{inert:(0,eG.inertValue)(!T),cutout:M??_}),K]})});var eK=e.i(88306),eq=e.i(18847);let eY={...ed.popupStateMapping,...ej.transitionStatusMapping},eW=n.forwardRef(function(e,r){let a,{render:i,className:l,initialFocus:s,finalFocus:o,...u}=e,d=k(),c=eS(),p=w(),{filteredItems:f}=j(),m=(0,h.useStore)(d,U.mounted),v=(0,h.useStore)(d,U.open),g=(0,h.useStore)(d,U.openMethod),E=(0,h.useStore)(d,U.transitionStatus),S=(0,h.useStore)(d,U.inputInsidePopup),x=(0,h.useStore)(d,U.inputElement),R=(0,h.useStore)(d,U.modal),I=0===f.length;(0,F.useOpenChangeComplete)({open:v,ref:d.state.popupRef,onComplete(){v&&d.state.onOpenChangeComplete(!0)}});let b=n.useMemo(()=>({open:v,side:c.side,align:c.align,anchorHidden:c.anchorHidden,transitionStatus:E,empty:I}),[v,c.side,c.align,c.anchorHidden,E,I]),C=(0,eu.useRenderElement)("div",e,{state:b,ref:[r,d.state.popupRef],props:[{role:S?"dialog":"presentation",tabIndex:-1,onFocus(e){let t=(0,A.getTarget)(e.nativeEvent);"touch"!==g&&((0,A.contains)(d.state.listElement,t)||t===e.currentTarget)&&d.state.inputRef.current?.focus()}},(0,eq.getDisabledMountTransitionStyles)(E),u],stateAttributesMapping:eY}),y=!!S&&(e=>"touch"===e?d.state.popupRef.current:x);return a=null!=o?o:!!S&&void 0,(0,t.jsx)(eK.FloatingFocusManager,{context:p,disabled:!m,modal:!!S&&R,openInteractionType:g,initialFocus:void 0===s?y:s,returnFocus:a,children:C})}),eJ=n.forwardRef(function(e,t){let{className:r,render:a,...i}=e,l=k(),{arrowRef:s,side:o,align:u,arrowUncentered:d,arrowStyles:c}=eS(),p=(0,h.useStore)(l,U.open),f=n.useMemo(()=>({open:p,side:o,align:u,uncentered:d}),[p,o,u,d]);return(0,eu.useRenderElement)("div",e,{ref:[s,t],stateAttributesMapping:ed.popupStateMapping,state:f,props:{style:c,"aria-hidden":!0,...i}})}),eX=n.forwardRef(function(e,t){let{className:n,render:r,...a}=e;return(0,eu.useRenderElement)("span",e,{ref:t,props:[{"aria-hidden":!0,children:"▼"},a]})}),eQ=n.createContext(void 0),eZ=n.forwardRef(function(e,r){let{render:a,className:i,items:l,...s}=e,[o,u]=n.useState(),d=n.useMemo(()=>({labelId:o,setLabelId:u,items:l}),[o,u,l]),c=(0,eu.useRenderElement)("div",e,{ref:r,props:[{role:"group","aria-labelledby":o},s]}),p=(0,t.jsx)(eQ.Provider,{value:d,children:c});return l?(0,t.jsx)(eN,{items:l,children:p}):p}),e$=n.forwardRef(function(e,t){let{render:r,className:a,id:i,...l}=e,{setLabelId:s}=function(){let e=n.useContext(eQ);if(void 0===e)throw Error((0,O.default)(18));return e}(),o=(0,eo.useBaseUiId)(i);return(0,p.useIsoLayoutEffect)(()=>(s(o),()=>{s(void 0)}),[o,s]),(0,eu.useRenderElement)("div",e,{ref:t,props:[{id:o},l]})});var e0=e.i(74080),e1=e.i(63165);let e2=n.createContext(void 0);function e5(){let e=n.useContext(e2);if(!e)throw Error((0,O.default)(19));return e}let e7=n.createContext(!1),e3=n.memo(n.forwardRef(function(e,r){let{render:a,className:i,value:l=null,index:s,disabled:o=!1,nativeButton:u=!1,...d}=e,c=n.useRef(!1),f=n.useRef(null),m=(0,e1.useCompositeListItem)({index:s,textRef:f,indexGuessBehavior:e1.IndexGuessBehavior.GuessFromOrder}),v=k(),g=n.useContext(e7),{flatFilteredItems:E}=j(),S=(0,h.useStore)(v,U.open),x=(0,h.useStore)(v,U.selectionMode),R=(0,h.useStore)(v,U.readOnly),I=(0,h.useStore)(v,U.virtualized),b=(0,h.useStore)(v,U.isItemEqualToValue),C="none"!==x,y=s??(I?(0,G.findItemIndex)(E,l,b):m.index),A=-1!==m.index,T=(0,h.useStore)(v,U.id),N=(0,h.useStore)(v,U.isActive,y),O=(0,h.useStore)(v,U.isSelected,l),D=(0,h.useStore)(v,U.items),_=(0,h.useStore)(v,U.getItemProps),M=n.useRef(null),P=null!=T&&A?`${T}-${y}`:void 0,w=O&&C;(0,p.useIsoLayoutEffect)(()=>{if(!(A&&(I||null!=s)))return;let e=v.state.listRef.current;return e[y]=M.current,()=>{delete e[y]}},[A,I,y,s,v]),(0,p.useIsoLayoutEffect)(()=>{if(!A||D)return;let e=v.state.valuesRef.current;return e[y]=l,"none"!==x&&v.state.allValuesRef.current.push(l),()=>{delete e[y]}},[A,D,y,l,v,x]),(0,p.useIsoLayoutEffect)(()=>{if(!S){c.current=!1;return}if(!A||D)return;let e=v.state.selectedValue,t=Array.isArray(e)?e[e.length-1]:e;(0,G.compareItemEquality)(t,l,b)&&v.set("selectedIndex",y)},[A,D,S,v,y,l,b]);let L=n.useMemo(()=>({disabled:o,selected:w,highlighted:N}),[o,w,N]),V=_({active:N,selected:w});V.id=void 0,V.onFocus=void 0;let{getButtonProps:B,buttonRef:F}=(0,eb.useButton)({disabled:o,focusableWhenDisabled:!0,native:u});function H(e){function t(){v.state.handleSelection(e,l)}v.state.submitOnItemClick?(e0.flushSync(t),v.state.requestSubmit()):t()}let z=(0,eu.useRenderElement)("div",e,{ref:[F,r,m.ref,M],state:L,props:[V,{id:P,role:g?"gridcell":"option","aria-selected":C?w:void 0,tabIndex:void 0,onPointerDownCapture(e){c.current=!0,e.preventDefault()},onClick(e){o||R||H(e.nativeEvent)},onMouseUp(e){let t=c.current;c.current=!1,o||R||0!==e.button||t||!N||H(e.nativeEvent)}},d,B]}),K=n.useMemo(()=>({selected:w,textRef:f}),[w,f]);return(0,t.jsx)(e2.Provider,{value:K,children:z})})),e6=n.forwardRef(function(e,n){let r=e.keepMounted??!1,{selected:a}=e5();return r||a?(0,t.jsx)(e9,{...e,ref:n}):null}),e9=n.memo(n.forwardRef((e,t)=>{let{render:r,className:a,keepMounted:i,...l}=e,{selected:s}=e5(),o=n.useRef(null),{transitionStatus:u,setMounted:d}=(0,Z.useTransitionStatus)(s),c=n.useMemo(()=>({selected:s,transitionStatus:u}),[s,u]),p=(0,eu.useRenderElement)("span",e,{ref:[t,o],state:c,props:[{"aria-hidden":!0,children:"✔️"},l],stateAttributesMapping:ej.transitionStatusMapping});return(0,F.useOpenChangeComplete)({open:s,ref:o,onComplete(){s||d(!1)}}),p})),e8=n.forwardRef(function(e,r){let{render:a,className:i,...l}=e,s=k(),o=(0,h.useStore)(s,U.open),u=(0,h.useStore)(s,U.hasSelectionChips),[d,c]=n.useState(void 0);o&&void 0!==d&&c(void 0);let p=n.useRef([]),f=(0,eu.useRenderElement)("div",e,{ref:[r,s.state.chipsContainerRef],props:[u?{role:"toolbar"}:$.EMPTY_OBJECT,l]}),m=n.useMemo(()=>({highlightedChipIndex:d,setHighlightedChipIndex:c,chipsRef:p}),[d,c,p]);return(0,t.jsx)(em.Provider,{value:m,children:(0,t.jsx)(eD.CompositeList,{elementsRef:p,children:f})})}),e4=n.createContext(void 0),te=n.forwardRef(function(e,r){let{render:a,className:i,...l}=e,s=k(),{setHighlightedChipIndex:o,chipsRef:u}=ev(),d=(0,h.useStore)(s,U.disabled),c=(0,h.useStore)(s,U.readOnly),p=(0,h.useStore)(s,U.selectedValue),{ref:f,index:m}=(0,e1.useCompositeListItem)(),v=n.useMemo(()=>({disabled:d}),[d]),g=(0,eu.useRenderElement)("div",e,{ref:[r,f],state:v,props:[{tabIndex:-1,"aria-disabled":d||void 0,"aria-readonly":c||void 0,onKeyDown(e){if(d||c)return;let t=function(e){let t=m;if("ArrowLeft"===e.key)e.preventDefault(),t=m>0?m-1:void 0;else if("ArrowRight"===e.key)e.preventDefault(),t=m<p.length-1?m+1:void 0;else if("Backspace"===e.key||"Delete"===e.key){let n=m>=p.length-1?p.length-2:m;t=n>=0?n:void 0,(0,eg.stopEvent)(e),s.state.setIndices({activeIndex:null,selectedIndex:null,type:"keyboard"}),s.state.setSelectedValue(p.filter((e,t)=>t!==m),(0,T.createChangeEventDetails)(N.REASONS.none,e.nativeEvent))}else"Enter"===e.key||" "===e.key?((0,eg.stopEvent)(e),t=void 0):"ArrowDown"===e.key||"ArrowUp"===e.key?((0,eg.stopEvent)(e),s.state.setOpen(!0,(0,T.createChangeEventDetails)(N.REASONS.listNavigation,e.nativeEvent)),t=void 0):1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey||(t=void 0);return t}(e);e0.flushSync(()=>{o(t)}),void 0===t?s.state.inputRef.current?.focus():u.current[t]?.focus()},onMouseDown(e){d||c||(e.preventDefault(),s.state.inputRef.current?.focus())}},l]}),E=n.useMemo(()=>({index:m}),[m]);return(0,t.jsx)(e4.Provider,{value:E,children:g})}),tt=n.forwardRef(function(e,t){let{render:r,className:a,disabled:i=!1,nativeButton:l=!0,...s}=e,o=k(),{index:u}=function(){let e=n.useContext(e4);if(!e)throw Error((0,O.default)(17));return e}(),d=(0,h.useStore)(o,U.disabled),c=(0,h.useStore)(o,U.readOnly),p=(0,h.useStore)(o,U.selectedValue),f=(0,h.useStore)(o,U.isItemEqualToValue),m=d||i,{buttonRef:v,getButtonProps:g}=(0,eb.useButton)({native:l,disabled:m||c,focusableWhenDisabled:!0}),E=n.useMemo(()=>({disabled:m}),[m]);return(0,eu.useRenderElement)("button",e,{ref:[t,v],state:E,props:[{tabIndex:-1,"aria-readonly":c||void 0,onClick(e){if(m||c)return;let t=(0,T.createChangeEventDetails)(N.REASONS.chipRemovePress,e.nativeEvent),n=o.state.activeIndex,r=p[u],a=(0,G.findItemIndex)(o.state.valuesRef.current,r,f);-1!==a&&n===a&&o.state.setIndices({activeIndex:null,type:o.state.keyboardActiveRef.current?"pointer":"keyboard"}),o.state.setSelectedValue(p.filter((e,t)=>t!==u),t),t.isPropagationAllowed||e.stopPropagation(),o.state.inputRef.current?.focus()},onKeyDown(e){if(m||c)return;let t=(0,T.createChangeEventDetails)(N.REASONS.chipRemovePress,e.nativeEvent);if("Enter"===e.key||" "===e.key){let n=o.state.activeIndex,r=p[u],a=(0,G.findItemIndex)(o.state.valuesRef.current,r,f);-1!==a&&n===a&&o.state.setIndices({activeIndex:null,type:o.state.keyboardActiveRef.current?"pointer":"keyboard"}),o.state.setSelectedValue(p.filter((e,t)=>t!==u),t),t.isPropagationAllowed||(0,eg.stopEvent)(e),o.state.inputRef.current?.focus()}}},s,g]})}),tn=n.forwardRef(function(e,n){let{render:r,className:a,...i}=e,l=(0,eu.useRenderElement)("div",e,{ref:n,props:[{role:"row"},i]});return(0,t.jsx)(e7.Provider,{value:!0,children:l})}),tr=n.forwardRef(function(e,t){let{render:n,className:r,children:a,...i}=e,{filteredItems:l}=j(),s=k(),o=0===l.length?a:null;return(0,eu.useRenderElement)("div",e,{ref:[t,s.state.emptyRef],props:[{children:o,role:"status","aria-live":"polite","aria-atomic":!0},i]})}),ta={...ej.transitionStatusMapping,...ed.triggerOpenStateMapping},ti=n.forwardRef(function(e,t){let{render:r,className:a,disabled:i=!1,nativeButton:l=!0,keepMounted:s=!1,...o}=e,{disabled:u}=(0,H.useFieldRootContext)(),d=k(),c=(0,h.useStore)(d,U.selectionMode),p=(0,h.useStore)(d,U.disabled),f=(0,h.useStore)(d,U.readOnly),m=(0,h.useStore)(d,U.open),v=(0,h.useStore)(d,U.selectedValue),g=(0,h.useStore)(d,U.hasSelectionChips),E=L(),S=!1;S="none"===c?""!==E:"single"===c?null!=v:g;let x=u||p||i,{buttonRef:R,getButtonProps:I}=(0,eb.useButton)({native:l,disabled:x}),{mounted:b,transitionStatus:C,setMounted:y}=(0,Z.useTransitionStatus)(S),A=n.useMemo(()=>({disabled:x,open:m,transitionStatus:C}),[x,m,C]);(0,F.useOpenChangeComplete)({open:S,ref:d.state.clearRef,onComplete(){S||y(!1)}});let O=(0,eu.useRenderElement)("button",e,{state:A,ref:[t,R,d.state.clearRef],props:[{tabIndex:-1,children:"x","aria-readonly":f||void 0,onMouseDown(e){e.preventDefault()},onClick(e){if(x||f)return;let t=d.state.keyboardActiveRef;d.state.setInputValue("",(0,T.createChangeEventDetails)(N.REASONS.clearPress,e.nativeEvent)),"none"!==c?(d.state.setSelectedValue(Array.isArray(v)?[]:null,(0,T.createChangeEventDetails)(N.REASONS.clearPress,e.nativeEvent)),d.state.setIndices({activeIndex:null,selectedIndex:null,type:t.current?"keyboard":"pointer"})):d.state.setIndices({activeIndex:null,type:t.current?"keyboard":"pointer"}),d.state.inputRef.current?.focus()}},o,I],stateAttributesMapping:ta});return s||b?O:null});var tl=e.i(40582);e.s(["Arrow",0,eJ,"Backdrop",0,eV,"Chip",0,te,"ChipRemove",0,tt,"Chips",0,e8,"Clear",0,ti,"Collection",()=>eO,"Empty",0,tr,"Group",0,eZ,"GroupLabel",0,e$,"Icon",0,eX,"Input",0,ex,"Item",0,e3,"ItemIndicator",0,e6,"List",0,e_,"Popup",0,eW,"Portal",0,ew,"Positioner",0,ez,"Root",()=>ei,"Row",0,tn,"Separator",()=>tl.Separator,"Status",0,eM,"Trigger",0,eA,"Value",()=>el,"useFilter",()=>Q],64194);var ts=e.i(64194),ts=ts,to=e.i(47163),tu=e.i(25913);function td({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"input-group",role:"group",className:(0,to.cn)("border-input bg-input/20 dark:bg-input/30 has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/30 has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40 h-7 rounded-md border transition-colors has-data-[align=block-end]:rounded-md has-data-[align=block-start]:rounded-md has-[[data-slot=input-group-control]:focus-visible]:ring-[2px] has-[[data-slot][aria-invalid=true]]:ring-[2px] has-[textarea]:rounded-md has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3 has-[>[data-align=block-start]]:[&>input]:pb-3 has-[>[data-align=inline-end]]:[&>input]:pr-1.5 has-[>[data-align=inline-start]]:[&>input]:pl-1.5 [[data-slot=combobox-content]_&]:focus-within:border-inherit [[data-slot=combobox-content]_&]:focus-within:ring-0 group/input-group relative flex w-full min-w-0 items-center outline-none has-[>textarea]:h-auto",e),...n})}let tc=(0,tu.cva)("text-muted-foreground **:data-[slot=kbd]:bg-muted-foreground/10 h-auto gap-1 py-2 text-xs/relaxed font-medium group-data-[disabled=true]/input-group:opacity-50 **:data-[slot=kbd]:rounded-[calc(var(--radius-sm)-2px)] **:data-[slot=kbd]:px-1 **:data-[slot=kbd]:text-[0.625rem] [&>svg:not([class*='size-'])]:size-3.5 flex cursor-text items-center justify-center select-none",{variants:{align:{"inline-start":"pl-2 has-[>button]:ml-[-0.275rem] has-[>kbd]:ml-[-0.275rem] order-first","inline-end":"pr-2 has-[>button]:mr-[-0.275rem] has-[>kbd]:mr-[-0.275rem] order-last","block-start":"px-2 pt-2 group-has-[>input]/input-group:pt-2 [.border-b]:pb-2 order-first w-full justify-start","block-end":"px-2 pb-2 group-has-[>input]/input-group:pb-2 [.border-t]:pt-2 order-last w-full justify-start"}},defaultVariants:{align:"inline-start"}});function tp({className:e,align:n="inline-start",...r}){return(0,t.jsx)("div",{role:"group","data-slot":"input-group-addon","data-align":n,className:(0,to.cn)(tc({align:n}),e),onClick:e=>{e.target.closest("button")||e.currentTarget.parentElement?.querySelector("input")?.focus()},...r})}let tf=(0,tu.cva)("gap-2 rounded-md text-xs/relaxed shadow-none flex items-center",{variants:{size:{xs:"h-5 gap-1 rounded-[calc(var(--radius-sm)-2px)] px-1 [&>svg:not([class*='size-'])]:size-3",sm:"","icon-xs":"size-6 p-0 has-[>svg]:p-0","icon-sm":"size-8 p-0 has-[>svg]:p-0"}},defaultVariants:{size:"xs"}});function tm({className:e,type:n="button",variant:r="ghost",size:a="xs",...i}){return(0,t.jsx)(s.Button,{type:n,"data-size":a,variant:r,className:(0,to.cn)(tf({size:a}),e),...i})}function tv({className:e,...n}){return(0,t.jsx)(u.Input,{"data-slot":"input-group-control",className:(0,to.cn)("rounded-none border-0 bg-transparent shadow-none ring-0 focus-visible:ring-0 aria-invalid:ring-0 dark:bg-transparent flex-1",e),...n})}var tg=e.i(9797),tE=e.i(95926),tS=e.i(78784);let th=ts.Root;function tx({className:e,children:n,...r}){return(0,t.jsxs)(ts.Trigger,{"data-slot":"combobox-trigger",className:(0,to.cn)("[&_svg:not([class*='size-'])]:size-3.5",e),...r,children:[n,(0,t.jsx)(tg.ChevronDownIcon,{className:"text-muted-foreground size-3.5 pointer-events-none"})]})}function tR({className:e,...n}){return(0,t.jsx)(ts.Clear,{"data-slot":"combobox-clear",render:(0,t.jsx)(tm,{variant:"ghost",size:"icon-xs"}),className:(0,to.cn)(e),...n,children:(0,t.jsx)(tE.XIcon,{className:"pointer-events-none"})})}function tI({className:e,children:n,disabled:r=!1,showTrigger:a=!0,showClear:i=!1,...l}){return(0,t.jsxs)(td,{className:(0,to.cn)("w-auto",e),children:[(0,t.jsx)(ts.Input,{render:(0,t.jsx)(tv,{disabled:r}),...l}),(0,t.jsxs)(tp,{align:"inline-end",children:[a&&(0,t.jsx)(tm,{size:"icon-xs",variant:"ghost",render:(0,t.jsx)(tx,{}),"data-slot":"input-group-button",className:"group-has-data-[slot=combobox-clear]/input-group:hidden data-pressed:bg-transparent",disabled:r}),i&&(0,t.jsx)(tR,{disabled:r})]}),n]})}function tb({className:e,side:n="bottom",sideOffset:r=6,align:a="start",alignOffset:i=0,anchor:l,...s}){return(0,t.jsx)(ts.Portal,{children:(0,t.jsx)(ts.Positioner,{side:n,sideOffset:r,align:a,alignOffset:i,anchor:l,className:"isolate z-50",children:(0,t.jsx)(ts.Popup,{"data-slot":"combobox-content","data-chips":!!l,className:(0,to.cn)("bg-popover text-popover-foreground data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 *:data-[slot=input-group]:bg-input/20 dark:bg-popover max-h-72 min-w-32 overflow-hidden rounded-lg shadow-md ring-1 duration-100 *:data-[slot=input-group]:m-1 *:data-[slot=input-group]:mb-0 *:data-[slot=input-group]:h-7 *:data-[slot=input-group]:border-none *:data-[slot=input-group]:shadow-none data-[side=inline-start]:slide-in-from-right-2 data-[side=inline-end]:slide-in-from-left-2 group/combobox-content relative max-h-(--available-height) w-(--anchor-width) max-w-(--available-width) min-w-[calc(var(--anchor-width)+--spacing(7))] origin-(--transform-origin) data-[chips=true]:min-w-(--anchor-width)",e),...s})})})}function tC({className:e,...n}){return(0,t.jsx)(ts.List,{"data-slot":"combobox-list",className:(0,to.cn)("no-scrollbar max-h-[min(calc(--spacing(72)---spacing(9)),calc(var(--available-height)---spacing(9)))] scroll-py-1 overflow-y-auto p-1 data-empty:p-0 overflow-y-auto overscroll-contain",e),...n})}function ty({className:e,children:n,...r}){return(0,t.jsxs)(ts.Item,{"data-slot":"combobox-item",className:(0,to.cn)("data-highlighted:bg-accent data-highlighted:text-accent-foreground not-data-[variant=destructive]:data-highlighted:**:text-accent-foreground min-h-7 gap-2 rounded-md px-2 py-1 text-xs/relaxed [&_svg:not([class*='size-'])]:size-3.5 relative flex w-full cursor-default items-center outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...r,children:[n,(0,t.jsx)(ts.ItemIndicator,{render:(0,t.jsx)("span",{className:"pointer-events-none absolute right-2 flex items-center justify-center"}),children:(0,t.jsx)(tS.CheckIcon,{className:"pointer-events-none"})})]})}function tA({className:e,...n}){return(0,t.jsx)(ts.Empty,{"data-slot":"combobox-empty",className:(0,to.cn)("text-muted-foreground hidden w-full justify-center py-2 text-center text-xs/relaxed group-data-empty/combobox-content:flex",e),...n})}function tT(){let[e,c]=(0,n.useState)(""),[p,f]=(0,n.useState)(null),[m,v]=(0,n.useState)(""),[g,E]=(0,n.useState)(void 0),[S,h]=(0,n.useState)(50),x=(0,r.useQuery)(a.api.agents.listAgents,{limit:100}),R=x?.agents??[],I=(0,r.useQuery)(a.api.zones.listZones),b=(0,n.useMemo)(()=>{let t={limit:S};return void 0!==g&&g>0&&(t.sinceTick=g),p&&(t.agentId=p),e&&"all"!==e&&(t.type=e),t},[g,p,e,S]),C=(0,r.useQuery)(a.api.events.getEvents,b),y=(0,n.useMemo)(()=>{let e=new Map;if(R)for(let t of R)e.set(t._id,t.name);return e},[R]),A=(0,n.useMemo)(()=>{let e=new Map;if(I)for(let t of I)e.set(t._id,t.name);return e},[I]),T=(0,n.useMemo)(()=>{if(!R)return[];if(!m)return R;let e=m.toLowerCase();return R.filter(t=>t.name.toLowerCase().includes(e))},[R,m]),N=""!==e||null!==p||void 0!==g;return(0,t.jsx)("div",{className:"min-h-screen bg-background px-4 py-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Events Feed"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[C&&(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[C.length," events"]}),N&&(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{c(""),f(null),v(""),E(void 0),h(50)},children:"Clear Filters"})]})]}),(0,t.jsxs)(o.Card,{size:"sm",children:[(0,t.jsx)(o.CardHeader,{className:"pb-3",children:(0,t.jsx)(o.CardTitle,{className:"text-sm",children:"Filters"})}),(0,t.jsx)(o.CardContent,{children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Event Type"}),(0,t.jsxs)(d.Select,{value:e,onValueChange:e=>c(e??""),children:[(0,t.jsx)(d.SelectTrigger,{className:"w-48",children:(0,t.jsx)(d.SelectValue,{placeholder:"All events"})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"all",children:"All events"}),i.map(e=>(0,t.jsx)(d.SelectItem,{value:e,children:e.replace(/_/g," ")},e))]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Agent"}),(0,t.jsxs)(th,{value:p??void 0,onValueChange:e=>f(e||null),onInputValueChange:e=>v(e),children:[(0,t.jsx)(tI,{placeholder:"Search agents...",className:"w-48",showClear:!!p}),(0,t.jsxs)(tb,{children:[(0,t.jsx)(tC,{children:T.map(e=>(0,t.jsx)(ty,{value:e._id,children:e.name},e._id))}),(0,t.jsx)(tA,{children:"No agents found"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground",children:"Since Tick"}),(0,t.jsx)(u.Input,{type:"number",placeholder:"From tick...",className:"w-32",value:g??"",onChange:e=>{let t=e.target.value;E(t?parseInt(t,10):void 0)}})]})]})})]}),(0,t.jsx)(o.Card,{children:(0,t.jsx)(o.CardContent,{className:"p-0",children:void 0===C?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading events..."})}):0===C.length?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No events found"})}):(0,t.jsx)("div",{className:"divide-y divide-border",children:C.map(e=>{var n;let r="TICK"===(n=e.type)?{variant:"secondary"}:"CRIME_ATTEMPTED"===n||"CRIME_SUCCESS"===n||"CRIME_FAILED"===n?{variant:"destructive"}:"AGENT_ARRESTED"===n||"AGENT_RELEASED"===n||"POLICE_CRACKDOWN"===n?{variant:"outline",className:"border-orange-500 text-orange-600 dark:text-orange-400"}:"JOB_STARTED"===n||"JOB_COMPLETED"===n||"JOB_DROUGHT"===n?{variant:"outline",className:"border-blue-500 text-blue-600 dark:text-blue-400"}:"BUY"===n||"SELL"===n||"MARKET_UPDATE"===n||"PRICE_CHANGE"===n||"BUSINESS_STARTED"===n||"PRICES_SET"===n||"BUSINESS_STOCKED"===n||"BUSINESS_REVENUE"===n?{variant:"outline",className:"border-green-500 text-green-600 dark:text-green-400"}:"WORLD_STARTED"===n||"WORLD_PAUSED"===n||"WORLD_RESUMED"===n?{variant:"outline",className:"border-purple-500 text-purple-600 dark:text-purple-400"}:"AGENT_REGISTERED"===n||"AGENT_HOSPITALIZED"===n||"AGENT_RECOVERED"===n?{variant:"outline",className:"border-cyan-500 text-cyan-600 dark:text-cyan-400"}:{variant:"outline"},a=e.agentId?y.get(e.agentId)??"Unknown Agent":null,i=e.zoneId?A.get(e.zoneId)??"Unknown Zone":null;return(0,t.jsxs)("div",{className:"flex flex-col gap-2 px-4 py-3 hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"font-mono text-xs text-muted-foreground w-16",children:["T",e.tick]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground w-36",children:new Date(e.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,t.jsx)(l.Badge,{variant:r.variant,className:r.className,children:e.type.replace(/_/g," ")}),a&&(0,t.jsxs)("span",{className:"text-xs",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Agent: "}),(0,t.jsx)("span",{className:"font-medium",children:a})]}),i&&(0,t.jsxs)("span",{className:"text-xs",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Zone: "}),(0,t.jsx)("span",{className:"font-medium",children:i})]})]}),e.payload&&(0,t.jsx)("div",{className:"ml-16 text-xs text-muted-foreground",children:function(e){if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){let t=[];for(let n of["action","result","amount","from","to","item","zone","reason","message"])void 0!==e[n]&&t.push(`${n}: ${e[n]}`);if(t.length>0)return t.join(", ");let n=JSON.stringify(e);return n.length>100?n.substring(0,100)+"...":n}return String(e)}(e.payload)})]},e._id)})})})}),C&&C.length>=S&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>{h(e=>e+50)},children:"Load More"})})]})})}e.s(["default",()=>tT],27094)}]);