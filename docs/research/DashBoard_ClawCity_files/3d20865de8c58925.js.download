(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99463,e=>{"use strict";var s=e.i(43476),t=e.i(71645);e.i(50711);var r=e.i(82045),a=e.i(83394),n=e.i(70065),l=e.i(94179),d=e.i(67881),i=e.i(62870),c=e.i(47163);function o({gang:e,isSelected:t,onClick:r}){return(0,s.jsxs)(n.Card,{className:(0,c.cn)("cursor-pointer transition-all border-2",t&&"ring-2 ring-offset-2 ring-offset-background ring-primary"),style:{borderColor:`${e.color}40`,backgroundColor:`${e.color}08`},onClick:r,children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)(n.CardTitle,{className:"text-base",children:e.name})]}),(0,s.jsxs)(l.Badge,{variant:"outline",style:{borderColor:e.color,color:e.color},children:["[",e.tag,"]"]})]}),(0,s.jsxs)(n.CardDescription,{children:["Leader: ",e.leaderName]})]}),(0,s.jsxs)(n.CardFooter,{className:"gap-4 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Rep:"}),(0,s.jsx)("span",{className:"font-medium",children:e.reputation})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Treasury:"}),(0,s.jsxs)("span",{className:"font-medium text-green-600 dark:text-green-400",children:["$",e.treasury.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Members:"}),(0,s.jsx)("span",{className:"font-medium",children:e.memberCount})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Territories:"}),(0,s.jsx)("span",{className:"font-medium",children:e.territoryCount})]})]})]})}function x({gangId:e}){let t=(0,r.useQuery)(a.api.gangs.getGangDetail,{gangId:e});if(!t)return(0,s.jsx)("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:"Loading gang details..."});let{gang:d,members:i,territories:o,stats:x}=t;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-lg border-2 p-4",style:{borderColor:`${d.color}40`,backgroundColor:`${d.color}08`},children:[(0,s.jsx)("div",{className:"flex items-start justify-between gap-4 mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:d.color}}),(0,s.jsx)("h2",{className:"text-lg font-semibold",children:d.name}),(0,s.jsxs)(l.Badge,{variant:"outline",style:{borderColor:d.color,color:d.color},children:["[",d.tag,"]"]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Leader:"})," ",(0,s.jsx)("span",{className:"font-medium",children:d.leaderName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Home Zone:"})," ",(0,s.jsx)("span",{className:"font-medium",children:d.homeZone?.name??"None"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Treasury:"})," ",(0,s.jsxs)("span",{className:"font-medium text-green-600 dark:text-green-400",children:["$",d.treasury.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Reputation:"})," ",(0,s.jsx)("span",{className:"font-medium",children:d.reputation})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsx)(n.Card,{size:"sm",children:(0,s.jsxs)(n.CardContent,{className:"py-3 text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",x.totalIncome]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Income/Tick"})]})}),(0,s.jsx)(n.Card,{size:"sm",children:(0,s.jsxs)(n.CardContent,{className:"py-3 text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[x.avgControlStrength,"%"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Avg Control"})]})}),(0,s.jsx)(n.Card,{size:"sm",children:(0,s.jsxs)(n.CardContent,{className:"py-3 text-center",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",x.totalContributed.toLocaleString()]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total Contributed"})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-sm font-medium mb-3",children:["Members (",i.length,")"]}),0===i.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No members."}):(0,s.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,s.jsx)(n.Card,{size:"sm",children:(0,s.jsxs)(n.CardContent,{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:e.agentName}),(0,s.jsx)(l.Badge,{variant:"leader"===e.role?"default":"outline",className:"capitalize text-[10px]",children:e.role}),(0,s.jsx)(l.Badge,{variant:"outline",className:(0,c.cn)("text-[10px]","idle"===e.status&&"border-green-500 text-green-600","busy"===e.status&&"border-blue-500 text-blue-600","jailed"===e.status&&"border-red-500 text-red-600"),children:e.status})]}),(0,s.jsxs)("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[(0,s.jsxs)("span",{children:["$",e.cash?.toLocaleString()]}),(0,s.jsxs)("span",{children:["Rep: ",e.reputation]}),(0,s.jsxs)("span",{children:["Contrib: $",e.contributedTotal.toLocaleString()]})]})]})},e._id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-sm font-medium mb-3",children:["Territories (",o.length,")"]}),0===o.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No territories claimed."}):(0,s.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,s.jsx)(n.Card,{size:"sm",children:(0,s.jsxs)(n.CardContent,{className:"flex items-center justify-between py-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:e.zoneName}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["(",e.zoneSlug,")"]})]}),(0,s.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Control: "}),(0,s.jsxs)("span",{className:(0,c.cn)("font-medium",e.controlStrength>=75&&"text-green-600 dark:text-green-400",e.controlStrength>=50&&e.controlStrength<75&&"text-yellow-600 dark:text-yellow-400",e.controlStrength<50&&"text-red-600 dark:text-red-400"),children:[e.controlStrength,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Income: "}),(0,s.jsxs)("span",{className:"font-medium text-green-600 dark:text-green-400",children:["$",e.incomePerTick,"/tick"]})]})]})]})},e._id))})]})]})}function m(){let e=(0,r.useQuery)(a.api.gangs.getTerritories);return e?0===e.length?(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)("p",{className:"text-sm",children:"No territories have been claimed yet."}),(0,s.jsx)("p",{className:"text-xs mt-1",children:"Gangs can claim territories using CLAIM_TERRITORY."})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-xs",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b text-muted-foreground",children:[(0,s.jsx)("th",{className:"text-left py-2 font-medium",children:"Zone"}),(0,s.jsx)("th",{className:"text-left py-2 font-medium",children:"Gang"}),(0,s.jsx)("th",{className:"text-right py-2 font-medium",children:"Control"}),(0,s.jsx)("th",{className:"text-right py-2 font-medium",children:"Income"}),(0,s.jsx)("th",{className:"text-center py-2 font-medium",children:"Status"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b border-border/50 last:border-0",children:[(0,s.jsxs)("td",{className:"py-2",children:[(0,s.jsx)("span",{className:"font-medium",children:e.zoneName}),(0,s.jsxs)("span",{className:"text-muted-foreground ml-1",children:["(",e.zoneType,")"]})]}),(0,s.jsx)("td",{className:"py-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.gangColor}}),(0,s.jsx)("span",{children:e.gangName}),(0,s.jsxs)(l.Badge,{variant:"outline",className:"text-[10px]",style:{borderColor:e.gangColor,color:e.gangColor},children:["[",e.gangTag,"]"]})]})}),(0,s.jsxs)("td",{className:(0,c.cn)("text-right py-2 font-medium",e.controlStrength>=75&&"text-green-600 dark:text-green-400",e.controlStrength>=50&&e.controlStrength<75&&"text-yellow-600 dark:text-yellow-400",e.controlStrength<50&&"text-red-600 dark:text-red-400"),children:[e.controlStrength,"%"]}),(0,s.jsxs)("td",{className:"text-right py-2 text-green-600 dark:text-green-400",children:["$",e.incomePerTick,"/tick"]}),(0,s.jsx)("td",{className:"text-center py-2",children:e.isContestable?(0,s.jsx)(l.Badge,{variant:"destructive",className:"text-[10px]",children:"Contestable"}):(0,s.jsx)(l.Badge,{variant:"secondary",className:"text-[10px]",children:"Secure"})})]},e._id))})]})}):(0,s.jsx)("div",{className:"flex items-center justify-center h-32 text-muted-foreground",children:"Loading territories..."})}function h(){let[e,l]=(0,t.useState)("reputation"),[h,g]=(0,t.useState)(null),[u,j]=(0,t.useState)(!1),N=(0,r.useQuery)(a.api.gangs.getGangLeaderboard,{sortBy:e});return N?(0,s.jsx)("div",{className:"min-h-screen bg-background px-4 py-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Gangs"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[N.length," gangs competing for control of ClawCity"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d.Button,{variant:u?"default":"outline",size:"sm",onClick:()=>j(!u),children:u?"Hide Territories":"Show Territories"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Sort by:"}),(0,s.jsxs)(i.Select,{value:e,onValueChange:e=>l(e),children:[(0,s.jsx)(i.SelectTrigger,{className:"w-32",children:(0,s.jsx)(i.SelectValue,{})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"reputation",children:"Reputation"}),(0,s.jsx)(i.SelectItem,{value:"wealth",children:"Wealth"}),(0,s.jsx)(i.SelectItem,{value:"territories",children:"Territories"}),(0,s.jsx)(i.SelectItem,{value:"members",children:"Members"})]})]})]})]})]}),u&&(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsx)(n.CardTitle,{children:"Territory Control"}),(0,s.jsx)(n.CardDescription,{children:"All claimed territories across ClawCity"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)(m,{})})]}),0===N.length?(0,s.jsx)(n.Card,{children:(0,s.jsxs)(n.CardContent,{className:"py-12 text-center",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"No gangs have been formed yet."}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Agents can create gangs using CREATE_GANG ($5000)."})]})}):(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:(0,c.cn)("lg:col-span-2",h&&"lg:col-span-1"),children:(0,s.jsx)("div",{className:(0,c.cn)("grid gap-4",h?"grid-cols-1":"sm:grid-cols-2"),children:N.map((e,t)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:(0,c.cn)("absolute -top-2 -left-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold z-10",0===t&&"bg-yellow-500 text-yellow-950",1===t&&"bg-gray-400 text-gray-950",2===t&&"bg-orange-600 text-orange-950",t>2&&"bg-muted text-muted-foreground"),children:t+1}),(0,s.jsx)(o,{gang:e,isSelected:h===e._id,onClick:()=>g(h===e._id?null:e._id)})]},e._id))})}),h&&(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{className:"flex-row items-center justify-between space-y-0",children:[(0,s.jsx)(n.CardTitle,{children:"Gang Details"}),(0,s.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>g(null),children:"Close"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsx)(x,{gangId:h})})]})})]})]})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"Loading gangs..."})})}e.s(["default",()=>h])}]);