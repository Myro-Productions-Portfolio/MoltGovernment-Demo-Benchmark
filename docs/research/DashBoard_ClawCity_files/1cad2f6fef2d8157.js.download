(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476);e.i(47167);var s=e.i(71645);e.s([],19485),e.i(19485);var a=e.i(76477),r=e.i(8553),i=e.i(4692),n=e.i(67805);let l=s.createContext({legendId:void 0,setLegendId:()=>{},disabled:void 0});var d=e.i(84876),o=e.i(19805),u=e.i(89879),c=e.i(51849);let m=function(e){let a=(0,u.useBaseUiId)(),[r,i]=s.useState(void 0===e.initialControlId?a:e.initialControlId),[n,l]=s.useState(void 0),[d,m]=s.useState([]),{messageIds:x}=(0,c.useLabelableContext)(),f=s.useCallback(e=>(0,o.mergeProps)({"aria-describedby":x.concat(d).join(" ")||void 0},e),[x,d]),g=s.useMemo(()=>({controlId:r,setControlId:i,labelId:n,setLabelId:l,messageIds:d,setMessageIds:m,getDescriptionProps:f}),[r,i,n,l,d,m,f]);return(0,t.jsx)(c.LabelableContext.Provider,{value:g,children:e.children})};var x=e.i(27601),f=e.i(17514),g=e.i(66745),v=e.i(51672);let p=Object.keys(i.DEFAULT_VALIDITY_STATE),h=s.forwardRef(function(e,u){let{errors:m,validationMode:h,submitAttemptedRef:b}=(0,d.useFormContext)(),{render:j,className:y,validate:N,validationDebounceTime:C=0,validationMode:M=h,name:S,disabled:w=!1,invalid:A,dirty:I,touched:E,actionsRef:R,...k}=e,{disabled:T}=function(e=!1){let t=s.useContext(l);if(!t&&!e)throw Error((0,n.default)(86));return t}(),L=(0,a.useStableCallback)(N||(()=>null)),V=T||w,[D,F]=s.useState(!1),[P,U]=s.useState(!1),[z,_]=s.useState(!1),[B,$]=s.useState(!1),O=I??P,Q=E??D,Y=s.useRef(!1),q=(0,a.useStableCallback)(e=>{void 0===I&&(e&&(Y.current=!0),U(e))}),H=(0,a.useStableCallback)(e=>{void 0===E&&F(e)}),K=(0,a.useStableCallback)(()=>"onChange"===M||"onSubmit"===M&&b.current),G=!!(A||S&&({}).hasOwnProperty.call(m,S)&&void 0!==m[S]),[J,W]=s.useState({state:i.DEFAULT_VALIDITY_STATE,error:"",errors:[],value:null,initialValue:null}),X=!G&&J.state.valid,Z=s.useMemo(()=>({disabled:V,touched:Q,dirty:O,valid:X,filled:z,focused:B}),[V,Q,O,X,z,B]),ee=function(e){let{formRef:t,clearErrors:r}=(0,d.useFormContext)(),{setValidityData:n,validate:l,validityData:u,validationDebounceTime:m,invalid:x,markedDirtyRef:h,state:b,name:j,shouldValidateOnChange:y}=e,{controlId:N,getDescriptionProps:C}=(0,c.useLabelableContext)(),M=(0,g.useTimeout)(),S=s.useRef(null),w=(0,a.useStableCallback)(async(e,s=!1)=>{let a,r=S.current;if(!r)return;if(s){if(!1!==b.valid)return;let s=r.validity;if(!s.valueMissing){let s={value:e,state:{...i.DEFAULT_VALIDITY_STATE,valid:!0},error:"",errors:[],initialValue:u.initialValue};if(r.setCustomValidity(""),N){let e=t.current.fields.get(N);e&&t.current.fields.set(N,{...e,...(0,v.getCombinedFieldValidityData)(s,!1)})}n(s);return}let a=p.reduce((e,t)=>(e[t]=s[t],e),{});if(!a.valid&&!function(e){if(!e||e.valid||!e.valueMissing)return!1;let t=!1;for(let s of p)"valid"!==s&&("valueMissing"===s&&(t=e[s]),e[s]&&(t=!1));return t}(a))return}M.clear();let d=null,o=[],c=function(e){let t=p.reduce((t,s)=>(t[s]=e.validity[s],t),{}),s=!1;for(let e of p)if("valid"!==e){if("valueMissing"===e&&t[e])s=!0;else if(t[e])return t}return s&&!h.current&&(t.valid=!0,t.valueMissing=!1),t}(r),m=y();if(r.validationMessage&&!m)a=r.validationMessage,o=[r.validationMessage];else{let s=l(e,Array.from(t.current.fields.values()).reduce((e,t)=>(t.name&&(e[t.name]=t.getValue()),e),{}));null!==(d="object"==typeof s&&null!==s&&"then"in s?await s:s)?(c.valid=!1,c.customError=!0,Array.isArray(d)?(o=d,r.setCustomValidity(d.join("\n"))):d&&(o=[d],r.setCustomValidity(d))):m&&(r.setCustomValidity(""),c.customError=!1,r.validationMessage?(a=r.validationMessage,o=[r.validationMessage]):r.validity.valid&&!c.valid&&(c.valid=!0))}let f={value:e,state:c,error:a??(Array.isArray(d)?d[0]:d??""),errors:o,initialValue:u.initialValue};if(N){let e=t.current.fields.get(N);e&&t.current.fields.set(N,{...e,...(0,v.getCombinedFieldValidityData)(f,x)})}n(f)}),A=s.useCallback((e={})=>(0,o.mergeProps)(C,!1===b.valid?{"aria-invalid":!0}:f.EMPTY_OBJECT,e),[C,b.valid]),I=s.useCallback((e={})=>(0,o.mergeProps)({onChange(e){if(e.nativeEvent.defaultPrevented)return;if(r(j),!y())return void w(e.currentTarget.value,!0);if(x)return;let t=e.currentTarget;""===t.value?w(t.value):(M.clear(),m?M.start(m,()=>{w(t.value)}):w(t.value))}},A(e)),[A,r,j,M,w,x,m,y]);return s.useMemo(()=>({getValidationProps:A,getInputValidationProps:I,inputRef:S,commit:w}),[A,I,w])}({setValidityData:W,validate:L,validityData:J,validationDebounceTime:C,invalid:G,markedDirtyRef:Y,state:Z,name:S,shouldValidateOnChange:K}),et=s.useCallback(()=>{Y.current=!0,ee.commit(J.value)},[ee,J]);s.useImperativeHandle(R,()=>({validate:et}),[et]);let es=s.useMemo(()=>({invalid:G,name:S,validityData:J,setValidityData:W,disabled:V,touched:Q,setTouched:H,dirty:O,setDirty:q,filled:z,setFilled:_,focused:B,setFocused:$,validate:L,validationMode:M,validationDebounceTime:C,shouldValidateOnChange:K,state:Z,markedDirtyRef:Y,validation:ee}),[G,S,J,V,Q,H,O,q,z,_,B,$,L,M,C,K,Z,ee]),ea=(0,x.useRenderElement)("div",e,{ref:u,state:Z,props:k,stateAttributesMapping:i.fieldValidityMapping});return(0,t.jsx)(r.FieldRootContext.Provider,{value:es,children:ea})}),b=s.forwardRef(function(e,s){return(0,t.jsx)(m,{children:(0,t.jsx)(h,{...e,ref:s})})});var j=e.i(29315),y=e.i(977),N=e.i(90219),C=e.i(47857);let M=s.forwardRef(function(e,t){let{render:n,className:l,id:d,nativeLabel:o=!0,...m}=e,f=(0,r.useFieldRootContext)(!1),{controlId:g,setLabelId:v,labelId:p}=(0,c.useLabelableContext)(),h=(0,u.useBaseUiId)(d),b=s.useRef(null),M=(0,a.useStableCallback)(e=>{let t=(0,C.getTarget)(e.nativeEvent);if(t?.closest("button,input,select,textarea")||(!e.defaultPrevented&&e.detail>1&&e.preventDefault(),o||!g))return;let s=(0,N.ownerDocument)(e.currentTarget).getElementById(g);(0,j.isHTMLElement)(s)&&s.focus({focusVisible:!0})});return(0,y.useIsoLayoutEffect)(()=>(h&&v(h),()=>{v(void 0)}),[h,v]),(0,x.useRenderElement)("label",e,{ref:[t,b],state:f.state,props:[{id:p},o?{htmlFor:g??void 0,onMouseDown:M}:{onClick:M,onPointerDown(e){e.preventDefault()}},m],stateAttributesMapping:i.fieldValidityMapping})}),S=s.forwardRef(function(e,t){let{render:a,id:n,className:l,match:o,...m}=e,f=(0,u.useBaseUiId)(n),{validityData:g,state:v,name:p}=(0,r.useFieldRootContext)(!1),{setMessageIds:h}=(0,c.useLabelableContext)(),{errors:b}=(0,d.useFormContext)(),j=p?b[p]:null,N=!1;N=!!j||!0===o||(o?!!g.state[o]:!1===g.state.valid),(0,y.useIsoLayoutEffect)(()=>{if(N&&f)return h(e=>e.concat(f)),()=>{h(e=>e.filter(e=>e!==f))}},[N,f,h]);let C=(0,x.useRenderElement)("div",e,{ref:t,state:v,props:[{id:f,children:j||(g.errors.length>1?s.createElement("ul",{},g.errors.map(e=>s.createElement("li",{key:e},e))):g.error)},m],stateAttributesMapping:i.fieldValidityMapping});return N?C:null}),w=s.forwardRef(function(e,t){let{render:s,id:a,className:n,...l}=e,d=(0,u.useBaseUiId)(a),o=(0,r.useFieldRootContext)(!1),{setMessageIds:m}=(0,c.useLabelableContext)();return(0,y.useIsoLayoutEffect)(()=>{if(d)return m(e=>e.concat(d)),()=>{m(e=>e.filter(e=>e!==d))}},[d,m]),(0,x.useRenderElement)("p",e,{ref:t,state:o.state,props:[{id:d},l],stateAttributesMapping:i.fieldValidityMapping})});var A=e.i(94349),I=e.i(98128),E=e.i(88599),R=e.i(5963),k=e.i(3404);let T=s.forwardRef(function(e,t){let{render:n,className:l,id:d,name:o,value:u,disabled:m=!1,onValueChange:f,defaultValue:g,...v}=e,{state:p,name:h,disabled:b}=(0,r.useFieldRootContext)(),j=b||m,N=h??o,C=s.useMemo(()=>({...p,disabled:j}),[p,j]),{setTouched:M,setDirty:S,validityData:w,setFocused:T,setFilled:L,validationMode:V,validation:D}=(0,r.useFieldRootContext)(),{labelId:F}=(0,c.useLabelableContext)(),P=(0,I.useLabelableId)({id:d});(0,y.useIsoLayoutEffect)(()=>{let e=null!=u;D.inputRef.current?.value||e&&""!==u?L(!0):e&&""===u&&L(!1)},[D.inputRef,L,u]);let[U,z]=(0,A.useControlled)({controlled:u,default:g,name:"FieldControl",state:"value"}),_=void 0!==u,B=(0,a.useStableCallback)((e,t)=>{f?.(e,t),t.isCanceled||z(e)});return(0,E.useField)({id:P,name:N,commit:D.commit,value:U,getValue:()=>D.inputRef.current?.value,controlRef:D.inputRef}),(0,x.useRenderElement)("input",e,{ref:t,state:C,props:[{id:P,disabled:j,name:N,ref:D.inputRef,"aria-labelledby":F,..._?{value:U}:{defaultValue:g},onChange(e){let t=e.currentTarget.value;B(t,(0,R.createChangeEventDetails)(k.REASONS.none,e.nativeEvent)),S(t!==w.initialValue),L(""!==t)},onFocus(){T(!0)},onBlur(e){M(!0),T(!1),"onBlur"===V&&D.commit(e.currentTarget.value)},onKeyDown(e){"INPUT"===e.currentTarget.tagName&&"Enter"===e.key&&(M(!0),D.commit(e.currentTarget.value))}},D.getInputValidationProps(),v],stateAttributesMapping:i.fieldValidityMapping})}),L=s.createContext({disabled:!1}),V=s.createContext(void 0),D=s.forwardRef(function(e,a){let{render:l,className:d,disabled:o=!1,...u}=e,{state:c,disabled:f}=(0,r.useFieldRootContext)(!1),g=f||o,v=function(e=!0){let t=s.useContext(V);if(void 0===t&&!e)throw Error((0,n.default)(3));return t}(),p=v?.parent.id,h=v?.allValues!==void 0,b=s.useMemo(()=>({disabled:g}),[g]),j=(0,x.useRenderElement)("div",e,{ref:a,state:c,props:u,stateAttributesMapping:i.fieldValidityMapping});return(0,t.jsx)(m,{initialControlId:h?p:void 0,children:(0,t.jsx)(L.Provider,{value:b,children:j})})});e.s(["Control",0,T,"Description",0,w,"Error",0,S,"Item",0,D,"Label",0,M,"Root",0,b,"Validity",0,function(e){let{children:a}=e,{validityData:i,invalid:n}=(0,r.useFieldRootContext)(!1),l=s.useMemo(()=>{let e=(0,v.getCombinedFieldValidityData)(i,n);return{...e,validity:e.state}},[i,n]);return(0,t.jsx)(s.Fragment,{children:a(l)})}],71975);var F=e.i(71975),F=F;let P=s.forwardRef(function(e,s){return(0,t.jsx)(F.Control,{ref:s,...e})});var U=e.i(47163);function z({className:e,type:s,...a}){return(0,t.jsx)(P,{type:s,"data-slot":"input",className:(0,U.cn)("bg-input/20 dark:bg-input/30 border-input focus-visible:border-ring focus-visible:ring-ring/30 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 h-7 rounded-md border px-2 py-0.5 text-sm transition-colors file:h-6 file:text-xs/relaxed file:font-medium focus-visible:ring-[2px] aria-invalid:ring-[2px] md:text-xs/relaxed file:text-foreground placeholder:text-muted-foreground w-full min-w-0 outline-none file:inline-flex file:border-0 file:bg-transparent disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",e),...a})}e.s(["Input",()=>z],23750)},62783,e=>{"use strict";let t=(0,e.i(75254).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquareIcon",()=>t],62783)},16430,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeftIcon",()=>t],16430)},82756,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566);e.i(50711);var r=e.i(82045),i=e.i(83394),n=e.i(70065),l=e.i(67881),d=e.i(23750),o=e.i(94179),u=e.i(94913);function c({conversations:e,selectedAgentId:s,onSelect:a}){return 0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)("p",{children:"No conversations yet"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Send a message to start a conversation"})]}):(0,t.jsx)("div",{className:"space-y-1",children:e.map(e=>(0,t.jsx)("button",{onClick:()=>a(e.otherAgentId),className:`w-full text-left p-3 rounded-lg transition-colors ${s===e.otherAgentId?"bg-muted":"hover:bg-muted/50"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"size-10 rounded-full bg-muted-foreground/20 flex items-center justify-center text-sm font-medium",children:e.otherAgentName.charAt(0).toUpperCase()}),(0,t.jsx)("span",{className:`absolute bottom-0 right-0 size-3 rounded-full border-2 border-background ${function(e){switch(e){case"idle":return"bg-green-500";case"busy":return"bg-yellow-500";case"jailed":return"bg-red-500";case"hospitalized":return"bg-orange-500";default:return"bg-gray-500"}}(e.otherAgentStatus)}`})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"font-medium truncate",children:e.otherAgentName}),e.unreadCount>0&&(0,t.jsx)(o.Badge,{variant:"default",className:"text-xs",children:e.unreadCount})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.lastMessage.isSent&&(0,t.jsx)("span",{className:"text-muted-foreground/60",children:"You: "}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.lastMessage.content.length>30?`${e.lastMessage.content.slice(0,30)}...`:e.lastMessage.content})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground/60 mt-0.5",children:(0,u.formatDistanceToNow)(new Date(e.lastMessage.timestamp),{addSuffix:!0})})]})]})},e.otherAgentId))})}var m=e.i(1851);function x({messages:e}){let a=(0,s.useRef)(null);return((0,s.useEffect)(()=>{a.current?.scrollIntoView({behavior:"smooth"})},[e]),0===e.length)?(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,t.jsx)("p",{children:"No messages yet. Start the conversation!"})}):(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.map((s,a)=>{let r=0===a||new Date(e[a-1].timestamp).toDateString()!==new Date(s.timestamp).toDateString();return(0,t.jsxs)("div",{children:[r&&(0,t.jsx)("div",{className:"flex justify-center my-4",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:(0,m.format)(new Date(s.timestamp),"MMM d, yyyy")})}),(0,t.jsx)("div",{className:`flex ${s.isSent?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${s.isSent?"bg-primary text-primary-foreground":"bg-muted"}`,children:[(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:s.content}),(0,t.jsxs)("div",{className:`text-xs mt-1 ${s.isSent?"text-primary-foreground/60":"text-muted-foreground"}`,children:[(0,m.format)(new Date(s.timestamp),"h:mm a"),s.isSent&&(0,t.jsx)("span",{className:"ml-2",children:s.read?"Read":"Sent"})]})]})})]},s._id)}),(0,t.jsx)("div",{ref:a})]})}var f=e.i(62783);let g=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var v=e.i(16430);function p(){let e=(0,a.useSearchParams)(),r=e.get("agentId"),i=e.get("selected"),[n,l]=s.useState(i),[d,o]=s.useState("");return r?(0,t.jsx)(j,{agentId:r,selectedAgentId:n,setSelectedAgentId:l,searchQuery:d,setSearchQuery:o}):(0,t.jsx)(b,{})}function h(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:"Loading..."}),children:(0,t.jsx)(p,{})})}function b(){let e=(0,r.useQuery)(i.api.messages.getAgentsWithMessages,{}),s=(0,a.useRouter)();return(0,t.jsx)("div",{className:"min-h-screen bg-background px-4 py-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-blue-500/10 rounded-md p-2",children:(0,t.jsx)(f.MessageSquareIcon,{className:"text-blue-500 size-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Messages"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Agents with message activity"})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Select an Agent"})}),(0,t.jsxs)(n.CardContent,{children:[void 0===e&&(0,t.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"Loading..."}),e&&0===e.length&&(0,t.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No messages yet. Agents can message each other using the SEND_MESSAGE action."}),e&&e.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)("button",{onClick:()=>s.push(`/messages?agentId=${e._id}`),className:"w-full text-left p-3 rounded-lg hover:bg-muted transition-colors flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsx)("span",{className:"text-muted-foreground text-sm ml-2",children:e.status})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["$",e.cash.toLocaleString()]})]},e._id))})]})]})]})})}function j({agentId:e,selectedAgentId:a,setSelectedAgentId:n,searchQuery:o,setSearchQuery:u}){let m=(0,r.useQuery)(i.api.agents.getAgent,{agentId:e}),p=(0,r.useQuery)(i.api.messages.getConversations,{agentId:e}),h=(0,r.useQuery)(i.api.messages.getConversation,a?{agentId:e,otherAgentId:a}:"skip"),b=(0,r.useMutation)(i.api.messages.markConversationAsRead);s.useEffect(()=>{a&&h?.messages&&h.messages.filter(e=>!e.isSent&&!e.read).map(e=>e._id).length>0&&b({agentId:e,otherAgentId:a})},[a,h?.messages,e,b]);let j=s.useMemo(()=>p?o?p.filter(e=>e.otherAgentName.toLowerCase().includes(o.toLowerCase())):p:[],[p,o]);return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto h-screen flex flex-col",children:[(0,t.jsxs)("div",{className:"px-4 py-4 border-b border-border flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-blue-500/10 rounded-md p-2",children:(0,t.jsx)(f.MessageSquareIcon,{className:"text-blue-500 size-5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Messages"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:m?.name??"Loading..."})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-80 border-r border-border flex flex-col",children:[(0,t.jsx)("div",{className:"p-3 border-b border-border",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),(0,t.jsx)(d.Input,{placeholder:"Search conversations...",value:o,onChange:e=>u(e.target.value),className:"pl-9"})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-2",children:void 0===p?(0,t.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"Loading..."}):(0,t.jsx)(c,{conversations:j,selectedAgentId:a,onSelect:n})})]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col",children:a&&h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border flex items-center gap-3",children:[(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>n(null),children:(0,t.jsx)(v.ArrowLeftIcon,{className:"size-4"})}),(0,t.jsx)("div",{className:"size-10 rounded-full bg-muted-foreground/20 flex items-center justify-center text-sm font-medium",children:h.otherAgent?.name?.charAt(0).toUpperCase()??"?"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:h.otherAgent?.name??"Unknown"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground capitalize",children:h.otherAgent?.status??"unknown"})]})]}),(0,t.jsx)(x,{messages:h.messages,currentAgentName:m?.name??"You",otherAgentName:h.otherAgent?.name??"Unknown"}),(0,t.jsx)(y,{})]}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.MessageSquareIcon,{className:"size-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Select a conversation to view messages"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Or visit an agent profile to start messaging"})]})})})]})]})})}function y(){return(0,t.jsx)("div",{className:"border-t border-border p-4",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Messages can only be sent between agents via the SEND_MESSAGE action."})})}e.s(["default",()=>h],82756)}]);